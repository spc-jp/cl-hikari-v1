<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hikari Brand Note</title>
    <!-- „Éá„Ç∂„Ç§„É≥Áî®ÔºöTailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ReactÊú¨‰Ωì -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- JSXÂ§âÊèõÁî®ÔºöBabel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- „ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„Å®„Éñ„É©„É≥„Éâ„Ç´„É©„Éº„ÅÆË®≠ÂÆö -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        hikari: {
                            base: '#EAEFF3',
                            text: '#626262',
                            accent: '#C11E2D',
                            darkBase: '#1f2937', // „ÉÄ„Éº„ÇØ„É¢„Éº„ÉâËÉåÊôØ
                            darkCard: '#374151', // „ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„Ç´„Éº„Éâ
                            darkText: '#f3f4f6'  // „ÉÄ„Éº„ÇØ„É¢„Éº„ÉâÊñáÂ≠ó
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫ */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .dark ::-webkit-scrollbar-thumb { background: #4b5563; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- „Ç¢„Ç§„Ç≥„É≥„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà (Lucide Icons) ---
        const Icon = ({ children, className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Copy = (p) => <Icon {...p}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></Icon>;
        const Check = (p) => <Icon {...p}><polyline points="20 6 9 17 4 12"/></Icon>;
        const RefreshCw = (p) => <Icon {...p}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></Icon>;
        const Calendar = (p) => <Icon {...p}><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></Icon>;
        const Users = (p) => <Icon {...p}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></Icon>;
        const PenTool = (p) => <Icon {...p}><path d="m12 19 7-7 3 3-7 7-3-3z"/><path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="m2 2 7.586 7.586"/><circle cx="11" cy="11" r="2"/></Icon>;
        const Camera = (p) => <Icon {...p}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></Icon>;
        const ChevronDown = (p) => <Icon {...p}><path d="m6 9 6 6 6-6"/></Icon>;
        const Settings = (p) => <Icon {...p}><path d="M12.22 2h-.44a2 2 0 0 1-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.72l-.15.1a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73v.18a2 2 0 0 1 2 2h.44a2 2 0 0 1 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.72l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 1-2-2z"/><circle cx="12" cy="12" r="3"/></Icon>;
        const HelpCircle = (p) => <Icon {...p}><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></Icon>;
        const X = (p) => <Icon {...p}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></Icon>;
        const RotateCcw = (p) => <Icon {...p}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 16"/><path d="M3 3v5h5"/></Icon>;
        const Moon = (p) => <Icon {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></Icon>;
        const Sun = (p) => <Icon {...p}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></Icon>;
        const AlertTriangle = (p) => <Icon {...p}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></Icon>;
        const Facebook = (p) => <Icon {...p}><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></Icon>;
        const Twitter = (p) => <Icon {...p}><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/></Icon>;
        const MessageCircle = (p) => <Icon {...p}><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></Icon>;
        const ImageIcon = (p) => <Icon {...p}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></Icon>;
        const ImagePlus = (p) => <Icon {...p}><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"/><line x1="16" x2="22" y1="5" y2="5"/><line x1="19" x2="19" y1="2" y2="8"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></Icon>;
        const Building = (p) => <Icon {...p}><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M8 10h.01"/><path d="M16 10h.01"/><path d="M8 14h.01"/><path d="M16 14h.01"/></Icon>;
        const Factory = (p) => <Icon {...p}><path d="M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M17 18h1"/><path d="M12 18h1"/><path d="M7 18h1"/></Icon>;
        const Link = (p) => <Icon {...p}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></Icon>;
        const Folder = (p) => <Icon {...p}><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 2H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"/></Icon>;
        const ArrowLeft = (p) => <Icon {...p}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></Icon>;

        // --- „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Êú¨‰Ωì ---
        const HikariSnsGenerator = () => {
            // --- State ---
            const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);
            const [category, setCategory] = useState('company');
            const [eventDetail, setEventDetail] = useState('');
            const [stakeholder, setStakeholder] = useState('general');
            const [generatedText, setGeneratedText] = useState({ fb: '', insta: '', x: '' });
            const [imageSuggestion, setImageSuggestion] = useState('');
            const [copiedState, setCopiedState] = useState({ fb: false, insta: false, x: false });
            
            // Tab State: 'insta', 'fb', 'x', 'reply'
            const [activeTab, setActiveTab] = useState('insta');
            
            // Image Selection State
            const [selectedImage, setSelectedImage] = useState(null);
            
            // Image Browser State
            const [imgBrowserPath, setImgBrowserPath] = useState([]); // ['hq'] -> ['hq', 'ext'] etc.
            
            // Settings State
            const [isSettingsOpen, setIsSettingsOpen] = useState(false);
            const [isHelpOpen, setIsHelpOpen] = useState(false);
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [signature, setSignature] = useState("ÂÖâË£ΩËñ¨Ê†™Âºè‰ºöÁ§æ\nÂÖ¨Âºè„Çµ„Ç§„ÉàÔºöhttps://www.hikari-pharma.co.jp/");
            const [showGreeting, setShowGreeting] = useState(true);
            const [ngWordsStr, setNgWordsStr] = useState("Áµ∂ÂØæ,100%,No.1,ÂøÖ„ÅöÊ≤ª„Çã"); 
            const [ngWarnings, setNgWarnings] = useState([]);
            
            // Link Settings State
            const [customLinkUrl, setCustomLinkUrl] = useState("https://www.hikari-pharma.co.jp/");
            const [customLinkText, setCustomLinkText] = useState("„Éó„É≠„Éï„Ç£„Éº„É´Ôºà@hikari_pharma_officialÔºâ„ÅÆ„É™„É≥„ÇØ„Å∏");

            // Holiday Settings State
            const [holidaySettings, setHolidaySettings] = useState({
                hq: {
                    summer: { start: '', end: '' },
                    winter: { start: '', end: '' }
                },
                factory: {
                    summer: { start: '', end: '' },
                    winter: { start: '', end: '' }
                }
            });

            // Monthly Event Options for Dropdown
            const [monthlyEventOptions, setMonthlyEventOptions] = useState([]);

            // Placeholder Text State
            const [placeholderText, setPlaceholderText] = useState("");

            // --- Server Image Assets Data Structure (Hierarchical) ---
            const imageDatabase = {
                id: 'root',
                name: 'root',
                type: 'folder',
                children: [
                    {
                        id: 'hq',
                        name: 'Êú¨Á§æ',
                        type: 'folder',
                        icon: <Building />,
                        children: [
                            {
                                id: 'hq_ext',
                                name: 'Â§ñË¶≥',
                                type: 'folder',
                                children: [
                                    { id: 'hq_ext_sunny', name: 'Êú¨Á§æ Â§ñË¶≥ (Êô¥„Çå)', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=HQ+Exterior+(Sunny)' },
                                    { id: 'hq_ext_night', name: 'Êú¨Á§æ Â§ñË¶≥ (Â§úÊôØ)', type: 'image', url: 'https://placehold.co/600x400/1f2937/EAEFF3?text=HQ+Exterior+(Night)' },
                                    { id: 'hq_ext_entrance', name: 'Ê≠£Èù¢ÁéÑÈñ¢', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Main+Entrance' }
                                ]
                            },
                            {
                                id: 'hq_int',
                                name: 'ÂÜÖË¶≥',
                                type: 'folder',
                                children: [
                                    { id: 'hq_int_lobby', name: '„Ç®„É≥„Éà„É©„É≥„Çπ„Éõ„Éº„É´', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Entrance+Hall' },
                                    { id: 'hq_int_office', name: '„Ç™„Éï„Ç£„ÇπÈ¢®ÊôØ', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Office+View' },
                                    { id: 'hq_int_meeting', name: '‰ºöË≠∞ÂÆ§', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Meeting+Room' }
                                ]
                            }
                        ]
                    },
                    {
                        id: 'factory',
                        name: 'Â∑•Â†¥',
                        type: 'folder',
                        icon: <Factory />,
                        children: [
                            {
                                id: 'fac_ext',
                                name: 'Â§ñË¶≥',
                                type: 'folder',
                                children: [
                                    { id: 'fac_ext_main', name: 'Â∑•Â†¥ ÂÖ®ÊôØ', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Factory+Full+View' },
                                    { id: 'fac_ext_gate', name: 'Â∑•Â†¥ Ê≠£ÈñÄ', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Factory+Gate' }
                                ]
                            },
                            {
                                id: 'fac_int',
                                name: 'ÂÜÖË¶≥',
                                type: 'folder',
                                children: [
                                    { id: 'fac_int_line', name: 'Ë£ΩÈÄ†„É©„Ç§„É≥', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Production+Line' },
                                    { id: 'fac_int_lab', name: 'ÂìÅË≥™ÁÆ°ÁêÜÂÆ§', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=QC+Lab' },
                                    { id: 'fac_int_warehouse', name: 'Áâ©ÊµÅÂÄâÂ∫´', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/626262?text=Warehouse' }
                                ]
                            }
                        ]
                    },
                    {
                        id: 'other',
                        name: '„Åù„ÅÆ‰ªñÁ¥†Êùê',
                        type: 'folder',
                        icon: <ImageIcon />,
                        children: [
                            { id: 'logo_color', name: '„Éñ„É©„É≥„Éâ„É≠„Ç¥ („Ç´„É©„Éº)', type: 'image', url: 'https://placehold.co/600x400/EAEFF3/C11E2D?text=Hikari+Logo' },
                            { id: 'sky', name: 'ÈùíÁ©∫„Ç§„É°„Éº„Ç∏', type: 'image', url: 'https://placehold.co/600x400/87CEEB/ffffff?text=Sky+Image' }
                        ]
                    }
                ]
            };

            // Helper to get current folder content based on path
            const getCurrentFolder = () => {
                let current = imageDatabase;
                for (const pathId of imgBrowserPath) {
                    if (current.children) {
                        current = current.children.find(child => child.id === pathId);
                    }
                }
                return current;
            };

            const navigateToFolder = (folderId) => {
                setImgBrowserPath([...imgBrowserPath, folderId]);
            };

            const navigateUp = () => {
                setImgBrowserPath(imgBrowserPath.slice(0, -1));
            };


            // Public Holidays
            const publicHolidays = {
                1: ["ÂÖÉÊó•", "Êàê‰∫∫„ÅÆÊó•"],
                2: ["Âª∫ÂõΩË®òÂøµ„ÅÆÊó•", "Â§©ÁöáË™ïÁîüÊó•"],
                3: ["Êò•ÂàÜ„ÅÆÊó•"],
                4: ["Êò≠Âíå„ÅÆÊó•"],
                5: ["ÊÜ≤Ê≥ïË®òÂøµÊó•", "„Åø„Å©„Çä„ÅÆÊó•", "„Åì„Å©„ÇÇ„ÅÆÊó•"],
                6: [],
                7: ["Êµ∑„ÅÆÊó•"],
                8: ["Â±±„ÅÆÊó•"],
                9: ["Êï¨ËÄÅ„ÅÆÊó•", "ÁßãÂàÜ„ÅÆÊó•"],
                10: ["„Çπ„Éù„Éº„ÉÑ„ÅÆÊó•"],
                11: ["ÊñáÂåñ„ÅÆÊó•", "Âã§Âä¥ÊÑüË¨ù„ÅÆÊó•"],
                12: []
            };

            // Branding Messages
            const brandingMessages = {
                general: {
                    short: "„Åæ„Å£„Åô„Åê„ÄÅ„ÇÑ„Åï„Åó„Åè„ÄÅÂåªÁôÇ„Å®‰∫∫„Çí„Å§„Å™„Åê„ÄÇ",
                    long: "ÁßÅ„Åü„Å°ÂÖâË£ΩËñ¨„ÅØ„ÄÅÂâµÊ•≠‰ª•Êù•Â§â„Çè„Çâ„Å¨ÊÉ≥„ÅÑ„Åß„ÄÅ‰∏Ä„Å§„Å≤„Å®„Å§„ÅÆÂåªËñ¨ÂìÅ„Å®Âêë„ÅçÂêà„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÊäÄË°ì„ÅÆÈÄ≤Ê≠©„Å®ÂÖ±„Å´„ÄÅÊ±∫„Åó„Å¶Â§â„Çè„Çâ„Å™„ÅÑ„Äå„ÇÑ„Åï„Åó„Åï„Äç„Çí„ÄÅ„Åô„Åπ„Å¶„ÅÆÊÇ£ËÄÖÊßò„Å∏„ÄÇ\nÊú™Êù•„ÅÆÂÅ•„ÇÑ„Åã„Å™ÊØéÊó•„ÅÆ„Åü„ÇÅ„Å´„ÄÅÁßÅ„Åü„Å°„ÅØ‰ªäÊó•„ÇÇÊ≠©„ÅøÁ∂ö„Åë„Åæ„Åô„ÄÇ"
                },
                patient: {
                    short: "Áü•„Å£„Å¶ÂÆâÂøÉ„ÄÅÂ±ä„Åë„Åü„ÅÑ„ÅÆ„ÅØ‚Äú„ÇÑ„Åï„Åó„Åï‚Äù„Åß„Åô„ÄÇ",
                    long: "ÁóÖÊ∞ó„Å®Âêë„ÅçÂêà„ÅÜÊôÇÈñì„ÄÅ„Åµ„Å®„Åó„ÅüÁû¨Èñì„Å´ÊÑü„Åò„Çã‰∏çÂÆâ„ÄÇ\nÁßÅ„Åü„Å°„ÅØ„ÄÅ„Åù„Çì„Å™ÂøÉ„Å´„Åù„Å£„Å®ÂØÑ„ÇäÊ∑ª„Åà„ÇãÂ≠òÂú®„Åß„ÅÇ„Çä„Åü„ÅÑ„Å®È°ò„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n„ÄåÁü•„Å£„Å¶ÂÆâÂøÉ„Äç„Å®ÊÄù„Å£„Å¶„ÅÑ„Åü„Å†„Åë„ÇãÊÉÖÂ†±„Çí„ÄÅ„Åæ„Åî„Åì„Çç„ÇíËæº„ÇÅ„Å¶„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ"
                },
                medical: {
                    short: "ÁèæÂ†¥„Å´‚ÄúÂÆâÂøÉ‚Äù„Çí„ÄÇÁ¢∫„Åã„Å™ÊÉÖÂ†±„Çí„ÄÅ„Åô„ÅêÊâãÂÖÉ„Å´„ÄÇ",
                    long: "‰∏ÄÂàÜ‰∏ÄÁßí„Çí‰∫â„ÅÜÂåªÁôÇ„ÅÆÁèæÂ†¥„Åß„ÄÅËø∑„ÅÑ„Å™„Åè‰ø°È†º„Åß„Åç„Çã„Éë„Éº„Éà„Éä„Éº„Åß„ÅÇ„Çã„Åì„Å®„ÄÇ\nÁ¢∫„Åã„Å™„Ç®„Éì„Éá„É≥„Çπ„Å®„ÄÅ‰Ωø„ÅÑ„ÇÑ„Åô„Åï„ÇíËøΩÊ±Ç„Åó„ÅüÊÉÖÂ†±Êèê‰æõ„Åß„ÄÅ\nÂÖàÁîüÊñπ„Å®„ÄÅ„Åù„ÅÆÂÖà„Å´„ÅÑ„ÇãÊÇ£ËÄÖÊßò„ÅÆÁ¨ëÈ°î„ÇíÊîØ„ÅàÁ∂ö„Åë„Åæ„Åô„ÄÇ"
                },
                recruit: {
                    short: "‚ÄúÂåªÁôÇ„ÅÆ„Éí„Ç´„É™‚Äù„Çí„ÄÅÊú™Êù•„Å∏Á¥°„Åê„ÅÇ„Å™„Åü„Å∏„ÄÇ",
                    long: "ÂÆüÈ®ìÂÆ§„ÅÆÂ∞è„Åï„Å™Êòé„Åã„Çä„ÅØ„ÄÅ„ÇÑ„Åå„Å¶Ë™∞„Åã„ÅÆÂ∏åÊúõ„ÅÆÂÖâ„Å´„Å™„Çã„ÄÇ\n„ÅÇ„Å™„Åü„ÅÆÊÉÖÁÜ±„Å®ÂÑ™„Åó„Åï„Åå„ÄÅÊòéÊó•„ÅÆÂåªÁôÇ„ÇíÂ§â„Åà„ÇãÂäõ„Å´„Å™„Çä„Åæ„Åô„ÄÇ\nÁßÅ„Åü„Å°„Å®‰∏ÄÁ∑í„Å´„ÄÅ„Åæ„Å†Ë¶ã„Å¨„Äå„Éí„Ç´„É™Ëºù„Åè„Éü„É©„Ç§„Äç„ÇíÂâµ„Çä„Å´Ë°å„Åç„Åæ„Åõ„Çì„ÅãÔºü"
                },
                partner: {
                    short: "‚Äú„Å§„Åè„ÇãÂäõ‚Äù„Çí„ÄÅÂåªËñ¨ÂìÅÈñãÁô∫„Å´Ê¥ª„Åã„Åó„Åæ„Åõ„Çì„ÅãÔºü",
                    long: "Á¢∫„Åã„Å™ÊäÄË°ìÂäõ„Å®„ÄÅÊüîËªü„Å™ÂØæÂøúÂäõ„Åß„ÄÅÂåªËñ¨ÂìÅÈñãÁô∫„ÅÆË™≤È°å„ÇíËß£Ê±∫„Åó„Åæ„Åô„ÄÇ\nÂÖ±„Å´ÁõÆÊåá„Åô„ÅÆ„ÅØ„ÄÅ‰∏ñÁïå‰∏≠„ÅÆ‰∫∫„ÄÖ„ÅÆÂÅ•Â∫∑„Å∏„ÅÆË≤¢ÁåÆ„ÄÇ\n‰ø°È†º„Åß„Åç„Çã„Éë„Éº„Éà„Éä„Éº„Å®„Åó„Å¶„ÄÅË≤¥Á§æ„ÅÆ„Éì„Ç∏„Éç„Çπ„ÇíÂº∑Âäõ„Å´„Çµ„Éù„Éº„Éà„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ"
                },
                csr: {
                    short: "Âú∞Âüü„Å®ÂÖ±„Å´„ÄÅÂÅ•„ÇÑ„Åã„Å™Êú™Êù•„ÇíËÇ≤„ÇÄ„ÄÇ",
                    long: "ÁßÅ„Åü„Å°„ÅØ„ÄÅËñ¨„Çí‰Ωú„Çã„Å†„Åë„Åß„Å™„Åè„ÄÅÂÅ•„ÇÑ„Åã„Å™Á§æ‰ºö„Çí‰Ωú„Çã‰ºÅÊ•≠„Åß„ÅÇ„Çä„Åü„ÅÑ„ÄÇ\nÁí∞Â¢É„Å∏„ÅÆÈÖçÊÖÆ„ÄÅÂú∞Âüü„Å®„ÅÆÈÄ£Êê∫„ÇíÈÄö„Åò„Å¶„ÄÅÊåÅÁ∂öÂèØËÉΩ„Å™Êú™Êù•„Å∏„ÅÆË≤¨‰ªª„ÇíÊûú„Åü„Åó„Åæ„Åô„ÄÇ\nÊ¨°‰∏ñ‰ª£„Å´Ë™á„Çå„ÇãÁ§æ‰ºö„Çí„ÄÅ„Åì„Åì„Åã„Çâ„ÄÇ"
                }
            };

            const replyPatterns = {
                general: [
                    { label: "ÊÑüË¨ù", text: "Ê∏©„Åã„ÅÑ„Ç≥„É°„É≥„Éà„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ„ÉÅ„Éº„É†‰∏ÄÂêå„ÄÅÂä±„Åø„Å´„Å™„Çä„Åæ„Åô„ÄÇ" },
                    { label: "ÂÖ±ÊÑü", text: "„Åù„ÅÆ„Çà„ÅÜ„Å´ÊÑü„Åò„Å¶„ÅÑ„Åü„Å†„Åë„Å¶Â¨â„Åó„ÅÑ„Åß„Åô„ÄÇ„Åì„Çå„Åã„Çâ„ÇÇ„Äå„ÇÑ„Åï„Åó„Åï„Äç„ÇíÂ§ßÂàá„Å´„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ" },
                    { label: "Ê°àÂÜÖ", text: "„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇË©≥Á¥∞„Å´„Å§„Åç„Åæ„Åó„Å¶„ÅØ„ÄÅ„Åú„Å≤ÂÖ¨Âºè„Çµ„Ç§„Éà„ÇÇ„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ" }
                ],
                patient: [
                    { label: "ÂØÑ„ÇäÊ∑ª„ÅÑ", text: "„Ç≥„É°„É≥„Éà„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÁöÜÊßò„ÅÆÂÆâÂøÉ„Å´„Å§„Å™„Åå„Çã„Çà„ÅÜ„ÄÅÂºï„ÅçÁ∂ö„ÅçÊÉÖÂ†±„ÇíÁô∫‰ø°„Åó„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ" },
                    { label: "Ê∞óÈÅ£„ÅÑ", text: "Â≠£ÁØÄ„ÅÆÂ§â„Çè„ÇäÁõÆ„Åß„Åô„ÅÆ„Åß„ÄÅ„Å©„ÅÜ„Åû„ÅîËá™ÊÑõ„Åè„Å†„Åï„ÅÑ„ÄÇ„ÅÑ„Å§„ÇÇ„ÅîË¶ß„ÅÑ„Åü„Å†„Åç„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ" },
                    { label: "Âïè„ÅÑÂêà„Çè„Åõ", text: "„Åî‰∏çÊòé„Å™ÁÇπ„Åå„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„Çâ„ÄÅÂÖ¨Âºè„Çµ„Ç§„Éà„ÅÆ„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Éï„Ç©„Éº„É†„Çà„Çä„ÅäÊ∞óËªΩ„Å´„ÅîÈÄ£Áµ°„Åè„Å†„Åï„ÅÑ„ÄÇ" }
                ],
                medical: [
                    { label: "Âæ°Á§º", text: "„ÅÑ„Å§„ÇÇÂåªÁôÇ„ÅÆÊúÄÂâçÁ∑ö„Åß„ÅÆ„ÅîÂ∞ΩÂäõ„ÄÅÂøÉ„Çà„ÇäÊï¨ÊÑè„ÇíË°®„Åó„Åæ„Åô„ÄÇ„Ç≥„É°„É≥„Éà„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ" },
                    { label: "„Çµ„Éù„Éº„Éà", text: "Ë≤¥Èáç„Å™„ÅîÊÑèË¶ã„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ‰ªäÂæå„ÅÆÊÉÖÂ†±Êèê‰æõ„ÅÆÊîπÂñÑ„Å´ÂΩπÁ´ã„Å¶„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ" },
                    { label: "ÈÄ£Êê∫", text: "ÁèæÂ†¥„ÅÆÂ£∞„Çí„ÅÑ„Åü„Å†„ÅçÊÑüË¨ù„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ‰ø°È†º„Åï„Çå„Çã„Éë„Éº„Éà„Éä„Éº„Åß„ÅÇ„ÇäÁ∂ö„Åë„Çâ„Çå„Çã„Çà„ÅÜ„ÄÅÂä™„ÇÅ„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ" }
                ],
                recruit: [
                    { label: "Ê≠ìËøé", text: "„ÅîËààÂë≥„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åü„Å†„ÅçÂ¨â„Åó„ÅÑ„Åß„ÅôÔºÅ‰∏ÄÁ∑í„Å´Êú™Êù•„ÇíÂâµ„Çå„Çã„Åì„Å®„ÇíÊ•Ω„Åó„Åø„Å´„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
                    { label: "ÂøúÊè¥", text: "„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÂ∞±ËÅ∑Ê¥ªÂãï„ÄÅÂøúÊè¥„Åó„Å¶„ÅÑ„Åæ„ÅôÔºÅ‰Ωï„Åã„ÅÇ„Çå„Å∞Ë™¨Êòé‰ºö„Å™„Å©„Åß„ÅîË≥™Âïè„Åè„Å†„Åï„ÅÑ„ÄÇ" },
                    { label: "Ë™òÂ∞é", text: "Ë©≥Á¥∞„Å™ÂãüÈõÜË¶ÅÈ†Ö„ÅØ„ÄÅÊé°Áî®„Çµ„Ç§„Éà„Å´„Å¶ÂÖ¨Èñã„Åó„Å¶„Åä„Çä„Åæ„Åô„ÄÇ„Åú„Å≤„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ" }
                ],
                partner: [
                    { label: "ÊÑüË¨ù", text: "„ÅÑ„Å§„ÇÇ„Åä‰∏ñË©±„Å´„Å™„Å£„Å¶„Åä„Çä„Åæ„Åô„ÄÇ„Ç≥„É°„É≥„Éà„ÅÑ„Åü„Å†„Åç„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ" },
                    { label: "ÂçîÊ•≠", text: "ÂÖ±„Å´Êñ∞„Åó„ÅÑ‰æ°ÂÄ§„ÇíÂâµÈÄ†„Åß„Åç„Çã„Åì„Å®„ÇíÊ•Ω„Åó„Åø„Å´„Åó„Å¶„Åä„Çä„Åæ„Åô„ÄÇ‰ªäÂæå„Å®„ÇÇ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ" },
                    { label: "‰ø°È†º", text: "Ê∏©„Åã„ÅÑ„ÅäË®ÄËëâ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÁ¢∫„Åã„Å™ÊäÄË°ì„Åß„ÅäÂøú„Åà„Åß„Åç„Çã„Çà„ÅÜ„ÄÅÈÇÅÈÄ≤„Åó„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ" }
                ],
                csr: [
                    { label: "ÊîØÊè¥", text: "Ê∏©„Åã„ÅÑ„ÅîÊîØÊè¥„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÂú∞ÂüüÁ§æ‰ºö„ÅÆ‰∏ÄÂì°„Å®„Åó„Å¶„ÄÅ„Åì„Çå„Åã„Çâ„ÇÇË≤¢ÁåÆ„Åó„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ" },
                    { label: "ÂÖ±ÊÑü", text: "Ê¥ªÂãï„Å∏„ÅÆÂÖ±ÊÑü„ÄÅÂ§ßÂ§âÂ¨â„Åó„ÅèÊÄù„ÅÑ„Åæ„Åô„ÄÇÊåÅÁ∂öÂèØËÉΩ„Å™Á§æ‰ºö„ÇíÁõÆÊåá„Åó„ÄÅÂÖ±„Å´Ê≠©„Çì„Åß„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ" },
                    { label: "Â†±Âëä", text: "„ÅîË¶ß„ÅÑ„Åü„Å†„Åç„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÊ¥ªÂãï„ÅÆË©≥Á¥∞„ÅØ„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£„É¨„Éù„Éº„Éà„Åß„ÇÇ„ÅîÂ†±Âëä„Åó„Å¶„Åä„Çä„Åæ„Åô„ÄÇ" }
                ]
            };

            const imageSuggestionData = {
                company: "„ÄêÊé®Â•®ÁîªÂÉè„Äë\n„Ç™„Éï„Ç£„Çπ„ÅÆÁ™ì„Åã„ÇâÂ∑Æ„ÅóËæº„ÇÄÊüî„Çâ„Åã„Å™Ëá™ÁÑ∂ÂÖâ„ÇíÂÖ•„Çå„Åü„ÄÅÁ§æÂì°„ÅÆËá™ÁÑ∂„Å™Ë°®ÊÉÖ„ÄÇ\n„Åæ„Åü„ÅØ„ÄÅÂ≠£ÁØÄ„ÅÆËä±„ÇÑÁ©∫„ÅÆÂÜôÁúü„ÇíËÉåÊôØ„Å´„ÄÅ„É≠„Ç¥„ÇíÈÖçÁΩÆ„Åó„ÅüÊ∏ÖÊΩîÊÑü„ÅÆ„ÅÇ„ÇãÁîªÂÉè„ÄÇ",
                academic: "„ÄêÊé®Â•®ÁîªÂÉè„Äë\nÂ≠¶‰ºö‰ºöÂ†¥„ÅÆÁúãÊùø„ÇíËÉåÊôØ„Å´„ÄÅÂèÇÂä†„É°„É≥„Éê„Éº„ÅåÂÖÖÂÆü„Åó„ÅüË°®ÊÉÖ„Åß‰∏¶„Çì„Åß„ÅÑ„ÇãÈõÜÂêàÂÜôÁúü„ÄÇ\nÁúüÂâ£„Å´„Éù„Çπ„Çø„ÉºÁô∫Ë°®„ÇíËÅû„ÅÑ„Å¶„ÅÑ„ÇãÂæå„ÇçÂßø„Å™„Å©„ÄåÁÜ±ÊÑè„Äç„Åå‰ºù„Çè„ÇãÊßãÂõ≥„ÄÇ",
                csr: "„ÄêÊé®Â•®ÁîªÂÉè„Äë\nÂú∞ÂüüÊ∏ÖÊéÉ„ÇÑ„Ç§„Éô„É≥„ÉàÊ¥ªÂãï‰∏≠„ÅÆ„ÄÅÁ§æÂì°„Å®Âú∞Âüü„ÅÆÊñπ„Å®„ÅÆ„Åµ„Çå„ÅÇ„ÅÑ„ÅÆÁû¨Èñì„ÄÇ\n„ÄåÊâãÂÖÉ„Äç„ÇÑ„ÄåÁ¨ëÈ°î„Äç„Å´„ÇØ„É≠„Éº„Ç∫„Ç¢„ÉÉ„Éó„Åó„ÄÅ‰∫∫„ÅÆÊ∏©„Åã„Åï„ÇíÂº∑Ë™ø„Åó„ÅüÂÜôÁúü„ÄÇ",
                recruit: "„ÄêÊé®Â•®ÁîªÂÉè„Äë\nÂÖàËº©Á§æÂì°„ÅåÂæåËº©„Å´ÂÑ™„Åó„ÅèÊïô„Åà„Å¶„ÅÑ„Çã„Ç∑„Éº„É≥„ÇÑ„ÄÅÁ§æÂì°È£üÂ†Ç„Åß„ÅÆ„É™„É©„ÉÉ„ÇØ„Çπ„Åó„Åü„Ç™„Éï„Ç∑„Éß„ÉÉ„Éà„ÄÇ\n„Äå„Åì„ÅÆ‰ºöÁ§æ„ÅßÂÉç„Åè„Ç§„É°„Éº„Ç∏„Äç„ÅåÊπß„Åè„Çà„ÅÜ„Å™„ÄÅÊòé„Çã„ÅèË¶™„Åó„Åø„ÇÑ„Åô„ÅÑÈõ∞Âõ≤Ê∞ó„Åß„ÄÇ",
                product: "„ÄêÊé®Â•®ÁîªÂÉè„Äë\nÂ∑•Â†¥ÂÜÖ„ÅÆÊ©üÊ¢∞„ÅÆ„É°„Çø„É™„ÉÉ„ÇØ„Å™Ë≥™ÊÑü„Å®„ÄÅÂé≥„Åó„Åè„ÉÅ„Çß„ÉÉ„ÇØ„Åô„ÇãÊãÖÂΩìËÄÖ„ÅÆÁúüÂâ£„Å™ÁúºÂ∑Æ„Åó„ÄÇ\n„ÄåÂìÅË≥™„Å∏„ÅÆ„Åì„Å†„Çè„Çä„Äç„Åå‰ºù„Çè„Çã„ÄÅÂ∞ë„Åó„Ç≥„É≥„Éà„É©„Çπ„ÉàÂº∑„ÇÅ„ÅÆÊ¥óÁ∑¥„Åï„Çå„ÅüÂÜôÁúü„ÄÇ"
            };

            const coreHashtags = ["#ÂÖâË£ΩËñ¨", "#HikariPharmaceutical", "#Vision2030", "#ÂåªÁôÇ„Å®‰∫∫„Çí„Å§„Å™„Åê"];
            
            const variableHashtagsData = {
                company: ["#‰ºÅÊ•≠ÊñáÂåñ", "#Á§æÂÜÖÈ¢®ÊôØ", "#Ë£ΩËñ¨‰ºöÁ§æ"],
                academic: ["#Â≠¶‰ºöÊÉÖÂ†±", "#ÂåªÁôÇ„Éã„É•„Éº„Çπ", "#Á†îÁ©∂ÈñãÁô∫"],
                csr: ["#„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£", "#Âú∞ÂüüË≤¢ÁåÆ", "#ÂÅ•Â∫∑ÁµåÂñ∂"],
                recruit: ["#Êé°Áî®", "#Â∞±Ê¥ª", "#ÂÉç„Åè‰∫∫"],
                product: ["#ÂìÅË≥™ÁÆ°ÁêÜ", "#ÂÆâÂÆö‰æõÁµ¶", "#„ÇÇ„ÅÆ„Å•„Åè„Çä"]
            };

            // Category Placeholders
            const categoryPlaceholders = {
                company: "‰æãÔºöÂâµÊ•≠„ÄáÂë®Âπ¥„ÇíËøé„Åà„ÄÅË®òÂøµÂºèÂÖ∏„ÇíË°å„ÅÑ„Åæ„Åó„Åü„ÄÇ\n‰æãÔºöÁ§æÂÜÖ„É¨„ÇØ„É™„Ç®„Éº„Ç∑„Éß„É≥„Åß„ÉÅ„Éº„É†„ÉØ„Éº„ÇØ„ÇíÊ∑±„ÇÅ„Åæ„Åó„Åü„ÄÇ",
                academic: "‰æãÔºöÁ¨¨20Âõû Êó•Êú¨ÂåªÂ≠¶‰ºöÁ∑è‰ºö„Å´ÂèÇÂä†„Åó„ÄÅÊñ∞Ëñ¨„ÅÆÁ†îÁ©∂ÊàêÊûú„ÇíÁô∫Ë°®„Åó„Åæ„Åó„Åü„ÄÇ\n‰æãÔºö„Äá„ÄáÂ≠¶‰ºö„Å´„Å¶„ÄÅÂΩìÁ§æ„ÅÆÁ†îÁ©∂Âì°„ÅåÂÑ™ÁßÄË≥û„ÇíÂèóË≥û„Åó„Åæ„Åó„Åü„ÄÇ",
                csr: "‰æãÔºöÂú∞Âüü„ÅÆÊ∏ÖÊéÉÊ¥ªÂãï„Å´ÂèÇÂä†„Åó„ÄÅËøëÈö£‰ΩèÊ∞ë„ÅÆÊñπ„ÄÖ„Å®‰∫§ÊµÅ„Åó„Åæ„Åó„Åü„ÄÇ\n‰æãÔºöCO2ÂâäÊ∏õ„Å´Âêë„Åë„ÅüÊñ∞„Åó„ÅÑÂèñ„ÇäÁµÑ„Åø„ÇíÈñãÂßã„Åó„Åæ„Åó„Åü„ÄÇ",
                recruit: "‰æãÔºö202XÂπ¥Â∫¶„ÅÆÊñ∞ÂÖ•Á§æÂì°„ÇíËøé„Åà„ÄÅÂÖ•Á§æÂºè„ÇíÂü∑„ÇäË°å„ÅÑ„Åæ„Åó„Åü„ÄÇ\n‰æãÔºöÂÖàËº©Á§æÂì°„Ç§„É≥„Çø„Éì„É•„ÉºÂãïÁîª„ÇíÂÖ¨Èñã„Åó„Åæ„Åó„Åü„ÄÇ",
                product: "‰æãÔºö‰∏ªÂäõË£ΩÂìÅ„Äå„Äá„Äá„Äç„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„É™„Éã„É•„Éº„Ç¢„É´„Åó„ÄÅË¶ñË™çÊÄß„ÇíÂêë‰∏ä„Åï„Åõ„Åæ„Åó„Åü„ÄÇ\n‰æãÔºöÊñ∞Â∑•Â†¥„Åß„ÅÆË£ΩÈÄ†„É©„Ç§„É≥„ÅåÁ®ºÂÉç„ÇíÈñãÂßã„Åó„ÄÅÂÆâÂÆö‰æõÁµ¶‰ΩìÂà∂„ÇíÂº∑Âåñ„Åó„Åæ„Åó„Åü„ÄÇ"
            };

            // Update placeholder when category changes
            useEffect(() => {
                setPlaceholderText(categoryPlaceholders[category] || "Ë©≥Á¥∞ÂÜÖÂÆπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");
            }, [category]);

            // Calculate Monthly Events
            useEffect(() => {
                let options = [];
                const holidays = publicHolidays[selectedMonth] || [];
                holidays.forEach(h => options.push({ label: `Á•ùÊó•: ${h}`, value: `${h}„ÅÆ„ÅäÁü•„Çâ„Åõ` }));

                const fmt = (d) => {
                    if(!d) return "";
                    const date = new Date(d);
                    return `${date.getMonth()+1}/${date.getDate()}`;
                };

                const checkHoliday = (setting, label) => {
                    if (setting.start) {
                        const startDate = new Date(setting.start);
                        if (startDate.getMonth() + 1 === selectedMonth) {
                            const range = `${fmt(setting.start)}„Äú${fmt(setting.end)}`;
                            options.push({ label: `${label} (${range})`, value: `${label} (${range})` });
                        }
                    }
                };

                checkHoliday(holidaySettings.hq.summer, "Êú¨Á§æÂ§èÂ≠£‰ºëÊöá");
                checkHoliday(holidaySettings.hq.winter, "Êú¨Á§æÂÜ¨Â≠£‰ºëÊöá");
                checkHoliday(holidaySettings.factory.summer, "Â∑•Â†¥Â§èÂ≠£‰ºëÊöá");
                checkHoliday(holidaySettings.factory.winter, "Â∑•Â†¥ÂÜ¨Â≠£‰ºëÊöá");

                setMonthlyEventOptions(options);

            }, [selectedMonth, holidaySettings]);

            const handleEventSelect = (e) => {
                const val = e.target.value;
                if (!val) return;
                setEventDetail(prev => {
                    if (prev.includes(val)) return prev;
                    return prev + (prev ? "\n" : "") + val;
                });
            };

            useEffect(() => {
                if (!eventDetail) {
                    setNgWarnings([]);
                    return;
                }
                const words = ngWordsStr.split(',').map(w => w.trim()).filter(w => w);
                const detected = words.filter(word => eventDetail.includes(word));
                setNgWarnings(detected);
            }, [eventDetail, ngWordsStr]);

            useEffect(() => {
                if (isDarkMode) {
                    document.documentElement.classList.add('dark');
                    document.body.classList.remove('bg-[#EAEFF3]');
                    document.body.classList.add('bg-hikari-darkBase');
                } else {
                    document.documentElement.classList.remove('dark');
                    document.body.classList.add('bg-[#EAEFF3]');
                    document.body.classList.remove('bg-hikari-darkBase');
                }
            }, [isDarkMode]);

            const generateContent = () => {
                const variableTags = variableHashtagsData[category] || ["#Ë£ΩËñ¨", "#ÂÅ•Â∫∑", "#Êú™Êù•"];
                const allHashtags = [...coreHashtags, ...variableTags].join(' '); 
                
                const monthStr = `${selectedMonth}Êúà`;
                const intro = showGreeting ? getSeasonalIntro(monthStr) : "";
                
                // Branding Block (Choose long version for FB/Insta to be more impactful)
                const brandingBlock = brandingMessages[stakeholder].long;
                const shortBranding = brandingMessages[stakeholder].short;

                const topicHeader = category === 'academic' ? 'Â≠¶‰ºö„ÉªÁ†îÁ©∂„Éã„É•„Éº„Çπ' : '‰ªäÊúà„ÅÆ„Éà„Éî„ÉÉ„ÇØ„Çπ';
                const mainBody = eventDetail 
                ? `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n„Äê${topicHeader}„Äë\n${eventDetail}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` 
                : '';

                // FB Text
                const fbText = `${intro ? intro + "\n\n" : ""}${mainBody}\n${brandingBlock}\n\nÁßÅ„Åü„Å°ÂÖâË£ΩËñ¨„ÅØ„ÄÅ„Åì„Çå„Åã„Çâ„ÇÇÂåªÁôÇ„ÅÆÊú™Êù•„ÇíÁÖß„Çâ„ÅóÁ∂ö„Åë„Åæ„Åô„ÄÇ\n\n----------------------------\n${signature}\n----------------------------\n\n${allHashtags}`;

                // Insta Text (Modified based on request and dynamic link)
                const instaFooter = `\nÁßÅ„Åü„Å°„ÅÆÊó•„ÄÖ„ÅÆÂèñ„ÇäÁµÑ„Åø„ÇÑ„ÄÅÊÉ≥„ÅÑ„ÇíÁô∫‰ø°„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n„Åú„Å≤„Éï„Ç©„É≠„Éº„Åó„Å¶„ÄÅÂÖâË£ΩËñ¨„ÅÆ„Äå‰ªä„Äç„Å´Ëß¶„Çå„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\nüîó ${customLinkText}`;
                const instaText = `${intro ? intro + "\n\n" : ""}${eventDetail ? `${eventDetail}\n\n` : ''}..\n\n${brandingBlock}\n${instaFooter}\n\n${allHashtags}`;

                // X Text
                const xText = `„Äê${monthStr}„ÅÆ„ÅäÁü•„Çâ„Åõ„Äë\n\n${shortBranding}\n\n${eventDetail}\n\n${showGreeting ? "Â≠£ÁØÄ„ÅÆÂ§â„Çè„ÇäÁõÆ„ÄÅÁöÜÊßò„ÇÇ„ÅîËá™ÊÑõ„Åè„Å†„Åï„ÅÑ„ÄÇ\n" : ""}#ÂÖâË£ΩËñ¨ #Vision2030`; 

                setGeneratedText({ fb: fbText, insta: instaText, x: xText });
                setImageSuggestion(imageSuggestionData[category] || "ÂÜÖÂÆπ„Å´Âêà„Çè„Åõ„ÅüÊ∏ÖÊΩîÊÑü„ÅÆ„ÅÇ„ÇãÂÜôÁúü");
            };

            const getSeasonalIntro = (month) => {
                const greetings = {
                1: "Êñ∞„Åó„ÅÑÂπ¥„ÅÆÂπïÈñã„Åë„ÄÇ\nÂáõ„Å®„Åó„ÅüÁ©∫Ê∞ó„ÅÆ‰∏≠„ÄÅÁßÅ„Åü„Å°„ÇÇÊñ∞„Åü„Å™Ê±∫ÊÑè„Å®ÂÖ±„Å´„Çπ„Çø„Éº„Éà„ÇíÂàá„Çä„Åæ„Åó„Åü„ÄÇ",
                2: "ÂØí„Åï„ÅÆ‰∏≠„Å´„ÇÇ„ÄÅÂ∞ë„Åó„Åö„Å§Êò•„ÅÆË∂≥Èü≥„ÅåËÅû„Åì„Åà„Å¶„Åè„ÇãÂ≠£ÁØÄ„ÄÇ\nÊ¢Ö„ÅÆËïæ„Åå„Åª„Åì„Çç„Å∂„Çà„ÅÜ„Å´„ÄÅÂ∏åÊúõ„Å∏„ÅÆÊ∫ñÂÇô„ÇíÈÄ≤„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                3: "Êó•Â∑Æ„Åó„ÅåÊüî„Çâ„Åã„Åè„Å™„Çä„ÄÅÂøÉ„ÇÇÂºæ„ÇÄÊò•„ÅÆË®™„Çå„ÄÇ\nÊñ∞„Åó„ÅÑÂá∫‰ºö„ÅÑ„Å®ÊåëÊà¶„ÅÆÂ≠£ÁØÄ„Åå„ÇÑ„Å£„Å¶„Åç„Åæ„Åó„Åü„ÄÇ",
                4: "Ê°úËàû„ÅÜÁæé„Åó„ÅÑÂ≠£ÁØÄ„ÄÇ\nÊñ∞„Åó„ÅÑ‰ª≤Èñì„ÇíËøé„Åà„ÄÅÂÖâË£ΩËñ¨„ÇÇ„Éï„É¨„ÉÉ„Ç∑„É•„Å™È¢®„Å®ÂÖ±„Å´Ê≠©„ÅøÂá∫„Åó„Åæ„Åô„ÄÇ",
                5: "Êñ∞Á∑ë„Åå„Åæ„Å∂„Åó„ÅÑÂ≠£ÁØÄ„ÄÇ\nËã•Ëëâ„ÅÆ„Çà„ÅÜ„Å´ÂäõÂº∑„Åè„ÄÅÁßÅ„Åü„Å°„ÇÇÊàêÈï∑„ÇíÁ∂ö„Åë„Å¶„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ",
                6: "Èõ®„ÅÆÈü≥„Å´Á¥´ÈôΩËä±„ÅåÊò†„Åà„ÇãÂ≠£ÁØÄ„ÄÇ\n‰∏ÄÈõ®„Åî„Å®„Å´Ê∑±„Åæ„ÇãÁ∑ë„ÅÆ„Çà„ÅÜ„Å´„ÄÅÁßÅ„Åü„Å°„ÅÆÁµÜ„ÇÇÊ∑±„ÇÅ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ",
                7: "Â§èÁ©∫„ÅåÂ∫É„Åå„ÇãÂ≠£ÁØÄ„ÄÇ\nÂ§™ÈôΩ„ÅÆÂÖâ„Å´Ë≤†„Åë„Å™„ÅÑ„Åè„Çâ„ÅÑ„ÅÆÁÜ±ÊÑè„Åß„ÄÅÂåªÁôÇ„ÅÆÁèæÂ†¥„ÇíÊîØ„Åà„Åæ„Åô„ÄÇ",
                8: "ËùâÊôÇÈõ®„ÅåÈüø„ÅèÂ§èÊú¨Áï™„ÄÇ\nÊöë„Åï„Å´Ë≤†„Åë„Åö„ÄÅÂÆâÂÆö‰æõÁµ¶„Å®„ÅÑ„ÅÜ‰ΩøÂëΩ„ÇíËÉ∏„Å´Êó•„ÄÖÈÇÅÈÄ≤„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                9: "Â∞ë„Åó„Åö„Å§Áßã„ÅÆÊ∞óÈÖç„ÇíÊÑü„Åò„Çã‰ªäÊó•„Åì„ÅÆÈ†É„ÄÇ\nÂÆü„Çä„ÅÆÁßã„Å´Âêë„Åë„ÄÅ„Åì„Çå„Åæ„Åß„ÅÆÊàêÊûú„ÇíÂΩ¢„Å´„Åô„ÇãÊôÇÊúü„Åß„Åô„ÄÇ",
                10: "Êú®„ÄÖ„ÅåËâ≤„Å•„ÅçÂßã„ÇÅ„ÇãÁæé„Åó„ÅÑÂ≠£ÁØÄ„ÄÇ\nÊ∑±„Åæ„ÇãÁßã„Å®ÂÖ±„Å´„ÄÅÁßÅ„Åü„Å°„ÅÆÁ†îÁ©∂„ÇÇ„Çà„ÇäÊ∑±„Åè„ÄÅ„Çà„ÇäÊú¨Ë≥™„Å∏„ÄÇ",
                11: "ËÇåÂØí„Åï„ÇíÊÑü„Åò„ÇãÂ≠£ÁØÄ„ÄÇ\nÁöÜÊßò„ÅÆÂÅ•Â∫∑„ÇíÈ°ò„ÅÜÊ∞óÊåÅ„Å°„Åå„ÄÅ„Çà„Çä‰∏ÄÂ±§Âº∑„Åè„Å™„ÇãÊôÇÊúü„Åß„Åô„ÄÇ",
                12: "‰∏ÄÂπ¥„ÅÆÁ∑†„ÇÅ„Åè„Åè„Çä„ÅÆÊúà„ÄÇ\nÊÑüË¨ù„ÅÆÊ∞óÊåÅ„Å°„ÇíËæº„ÇÅ„Å¶„ÄÅ‰ªäÂπ¥‰∏ÄÂπ¥„ÇíÊåØ„ÇäËøî„Çä„ÄÅÊú™Êù•„Å∏ÊÉ≥„ÅÑ„ÇíÈ¶≥„Åõ„Åæ„Åô„ÄÇ"
                };
                return greetings[selectedMonth] || `${month}„ÇíËøé„Åà„ÄÅÊ∞óÊåÅ„Å°„ÇíÊñ∞„Åü„Å´Ê•≠Âãô„Å´Âèñ„ÇäÁµÑ„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇ`;
            };

            const handleCopy = (text) => {
                const showSuccess = () => {
                    setCopiedState(prev => ({ ...prev, [activeTab]: true }));
                    setTimeout(() => setCopiedState(prev => ({ ...prev, [activeTab]: false })), 2000);
                };

                const copyToClipboardFallback = (str) => {
                    const el = document.createElement('textarea');
                    el.value = str;
                    el.setAttribute('readonly', '');
                    el.style.position = 'absolute';
                    el.style.left = '-9999px';
                    document.body.appendChild(el);
                    
                    const selected = 
                        document.getSelection().rangeCount > 0 
                            ? document.getSelection().getRangeAt(0) 
                            : false;
                    el.select();
                    
                    let successful = false;
                    try {
                        successful = document.execCommand('copy');
                    } catch (err) {
                        console.error('Fallback copy failed', err);
                    }
                    
                    document.body.removeChild(el);
                    if (selected) {
                        document.getSelection().removeAllRanges();
                        document.getSelection().addRange(selected);
                    }
                    return successful;
                };

                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text)
                        .then(showSuccess)
                        .catch(err => {
                            console.warn("Clipboard API failed, using fallback", err);
                            if(copyToClipboardFallback(text)) {
                                showSuccess();
                            } else {
                                alert("„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                            }
                        });
                } else {
                    if(copyToClipboardFallback(text)) {
                        showSuccess();
                    } else {
                        alert("„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
                    }
                }
            };

            const handleReset = () => {
                if(window.confirm("ÂÖ•ÂäõÂÜÖÂÆπ„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü")) {
                    setEventDetail("");
                    setCategory("company");
                    setSelectedMonth(new Date().getMonth() + 1);
                    setStakeholder("general");
                    setSelectedImage(null);
                    setImgBrowserPath([]);
                }
            };

            const handleHolidayChange = (location, type, key, value) => {
                setHolidaySettings(prev => ({
                    ...prev,
                    [location]: {
                        ...prev[location],
                        [type]: {
                            ...prev[location][type],
                            [key]: value
                        }
                    }
                }));
            };

            useEffect(() => {
                generateContent();
            }, [selectedMonth, category, eventDetail, stakeholder, signature, showGreeting, customLinkText]);

            const renderImageSelection = () => {
                const currentFolder = getCurrentFolder();
                
                return (
                    <div className="bg-hikari-base dark:bg-gray-800 p-4 border-t border-slate-200 dark:border-gray-700 animate-fade-in">
                        
                        {/* Suggestion Text */}
                        <div className="mb-4 bg-white dark:bg-gray-700 border-2 border-dashed border-slate-300 dark:border-gray-500 rounded-lg p-3 flex items-start gap-3">
                            <div className="bg-red-50 dark:bg-red-900/50 text-hikari-accent p-2 rounded-full shrink-0">
                                <ImageIcon size={20} />
                            </div>
                            <div>
                                <h3 className="font-bold text-sm mb-1 text-gray-700 dark:text-gray-200">„Åä„Åô„Åô„ÇÅ„ÅÆÁîªÂÉèÊßãÊàê</h3>
                                <p className="text-xs leading-relaxed opacity-80 whitespace-pre-wrap">
                                    {imageSuggestion}
                                </p>
                            </div>
                        </div>

                        {/* Image Browser */}
                        <div className="bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-600 overflow-hidden">
                            <div className="bg-gray-100 dark:bg-gray-700 p-2 flex items-center gap-2 border-b border-gray-200 dark:border-gray-600">
                                {imgBrowserPath.length > 0 ? (
                                    <button 
                                        onClick={navigateUp}
                                        className="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"
                                    >
                                        <ArrowLeft size={16} />
                                    </button>
                                ) : (
                                    <span className="p-1"><ImagePlus size={16} className="text-hikari-accent"/></span>
                                )}
                                <span className="font-bold text-sm text-gray-700 dark:text-gray-200">
                                    {currentFolder.name === 'root' ? '„Çµ„Éº„Éê„ÉºÁîªÂÉè‰∏ÄË¶ß' : currentFolder.name}
                                </span>
                            </div>
                            
                            <div className="p-3">
                                {currentFolder.children && currentFolder.children.length > 0 ? (
                                    <div className="grid grid-cols-2 sm:grid-cols-3 gap-2">
                                        {currentFolder.children.map((item) => (
                                            item.type === 'folder' ? (
                                                // Folder Item
                                                <button
                                                    key={item.id}
                                                    onClick={() => navigateToFolder(item.id)}
                                                    className="flex flex-col items-center justify-center p-4 bg-blue-50 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-gray-600 rounded-lg transition-colors gap-2 h-24"
                                                >
                                                    <div className="text-blue-500 dark:text-blue-300">
                                                        {item.icon || <Folder size={32} />}
                                                    </div>
                                                    <span className="text-xs font-bold text-gray-700 dark:text-gray-200">{item.name}</span>
                                                </button>
                                            ) : (
                                                // Image Item
                                                <button
                                                    key={item.id}
                                                    onClick={() => setSelectedImage(item)}
                                                    className={`relative rounded-lg overflow-hidden border-2 transition-all aspect-video group
                                                        ${selectedImage?.id === item.id 
                                                            ? 'border-hikari-accent ring-2 ring-hikari-accent/30' 
                                                            : 'border-transparent hover:border-gray-300'}`}
                                                >
                                                    <img src={item.url} alt={item.name} className="w-full h-full object-cover" />
                                                    <div className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                                        <span className="text-[10px] text-white font-bold bg-black/50 px-1 rounded">{item.name}</span>
                                                    </div>
                                                    {selectedImage?.id === item.id && (
                                                        <div className="absolute top-1 right-1 bg-hikari-accent text-white rounded-full p-0.5">
                                                            <Check size={10} />
                                                        </div>
                                                    )}
                                                </button>
                                            )
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-center py-4 text-xs opacity-50">ÁîªÂÉè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            const renderReplyExamples = () => {
                const patterns = replyPatterns[stakeholder] || replyPatterns['general'];
                return (
                    <div className="mb-4 p-4 bg-gray-50 dark:bg-gray-800/50 animate-fade-in border-b border-slate-200 dark:border-gray-700">
                        <h3 className="font-bold text-sm mb-3 flex items-center gap-2 text-hikari-text dark:text-gray-300">
                            <MessageCircle size={16} className="text-hikari-accent" />
                            „Ç≥„É°„É≥„Éà„Å∏„ÅÆËøî‰ø°‰æã 
                            <span className="text-[10px] font-normal opacity-70">Ôºà„ÇØ„É™„ÉÉ„ÇØ„Åß„Ç≥„Éî„ÉºÔºâ</span>
                        </h3>
                        <div className="space-y-2">
                            {patterns.map((pattern, idx) => (
                                <button 
                                    key={idx}
                                    onClick={() => handleCopy(pattern.text)}
                                    className="w-full text-left p-3 bg-white dark:bg-gray-700 rounded border border-slate-200 dark:border-gray-600 hover:border-hikari-accent dark:hover:border-hikari-accent group transition-all"
                                >
                                    <div className="flex justify-between items-center mb-1">
                                        <span className="text-[10px] font-bold bg-slate-100 dark:bg-gray-600 text-slate-600 dark:text-gray-300 px-2 py-0.5 rounded">
                                            {pattern.label}
                                        </span>
                                        <span className="text-[10px] text-hikari-accent opacity-0 group-hover:opacity-100 transition-opacity">
                                            „Ç≥„Éî„Éº„Åô„Çã
                                        </span>
                                    </div>
                                    <p className="text-xs text-gray-700 dark:text-gray-200 leading-relaxed">
                                        {pattern.text}
                                    </p>
                                </button>
                            ))}
                        </div>
                    </div>
                );
            };

            return (
                <div className={`min-h-screen font-sans pb-20 transition-colors duration-300 ${isDarkMode ? 'text-hikari-darkText' : 'text-hikari-text'}`}>
                
                <div className="sticky top-0 z-10 bg-white dark:bg-hikari-darkCard border-b border-hikari-accent/20 shadow-sm px-4 py-3 flex items-center justify-between md:hidden">
                    <div className="flex items-center gap-2">
                        <img src="rogo.jpg" alt="ÂÖâË£ΩËñ¨„É≠„Ç¥" className="h-8 w-auto object-contain" onError={(e) => e.target.style.display = 'none'} />
                        <h1 className="font-bold text-sm">Hikari Brand Note</h1>
                    </div>
                    <div className="flex gap-2">
                        <button onClick={() => setIsHelpOpen(true)} className="p-2 text-hikari-text dark:text-gray-200"><HelpCircle size={20}/></button>
                        <button onClick={() => setIsSettingsOpen(true)} className="p-2 text-hikari-text dark:text-gray-200"><Settings size={20}/></button>
                    </div>
                </div>

                <div className="max-w-4xl mx-auto p-4 md:p-8">
                    
                    <header className="hidden md:flex mb-8 border-b-4 border-hikari-accent pb-4 bg-white dark:bg-hikari-darkCard p-6 rounded-t-xl shadow-sm items-center justify-between">
                        <div className="flex items-center gap-4">
                            <div className="h-16 w-auto flex items-center">
                                <img src="rogo.jpg" alt="ÂÖâË£ΩËñ¨„É≠„Ç¥" className="h-full w-auto object-contain" onError={(e) => e.target.style.display = 'none'} />
                            </div>
                            <div className="border-l-2 border-slate-200 dark:border-gray-600 pl-4">
                                <h1 className="text-2xl font-bold">Hikari Brand Note</h1>
                                <p className="opacity-80 text-sm">Êó•Â∏∏„Åã„Çâ„ÄÅ‰ø°È†º„ÇíÁ©ç„ÅøÈáç„Å≠„ÇãSNSÁô∫‰ø°</p>
                            </div>
                        </div>
                        <div className="flex gap-3">
                            <button 
                                onClick={() => setIsHelpOpen(true)}
                                className="flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-50 dark:bg-gray-700 text-blue-700 dark:text-blue-200 hover:bg-blue-100 transition-colors"
                            >
                                <HelpCircle size={18} />
                                <span>‰Ωø„ÅÑÊñπ</span>
                            </button>
                            <button 
                                onClick={() => setIsSettingsOpen(true)}
                                className="flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 transition-colors"
                            >
                                <Settings size={18} />
                                <span>Ë®≠ÂÆö</span>
                            </button>
                        </div>
                    </header>

                    <div className="grid grid-cols-1 gap-6">
                    
                    {/* Controls Section */}
                    <div className="space-y-4">
                        
                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <h2 className="flex items-center gap-2 font-bold text-base mb-3 text-hikari-accent">
                                <Calendar size={20} />
                                ÊäïÁ®øÊôÇÊúü
                            </h2>
                            <div className="flex flex-col md:flex-row gap-4 items-start md:items-center">
                                <div className="relative w-full md:w-1/3">
                                    <select 
                                    value={selectedMonth}
                                    onChange={(e) => setSelectedMonth(Number(e.target.value))}
                                    className="w-full appearance-none p-3 pl-4 pr-10 bg-hikari-base dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg text-lg font-medium focus:ring-2 focus:ring-hikari-accent outline-none cursor-pointer"
                                    >
                                    {[...Array(12)].map((_, i) => (
                                        <option key={i} value={i + 1}>{i + 1}Êúà</option>
                                    ))}
                                    </select>
                                    <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-60">
                                    <ChevronDown size={20} />
                                    </div>
                                </div>
                                
                                <div className="flex-1 w-full">
                                     <div className="relative">
                                        <select 
                                            onChange={handleEventSelect}
                                            className="w-full appearance-none p-3 pl-4 pr-10 bg-blue-50 dark:bg-gray-800 border border-blue-200 dark:border-gray-600 rounded-lg text-sm font-medium text-blue-800 dark:text-blue-200 focus:ring-2 focus:ring-blue-500 outline-none cursor-pointer"
                                            value=""
                                        >
                                            <option value="">Ë°å‰∫ã„ÇíÈÅ∏Êäû„Åó„Å¶Êú¨Êñá„Å´ËøΩÂä†</option>
                                            {monthlyEventOptions.length > 0 ? (
                                                monthlyEventOptions.map((opt, idx) => (
                                                    <option key={idx} value={opt.value}>{opt.label}</option>
                                                ))
                                            ) : (
                                                <option disabled>„Åì„ÅÆÊúà„ÅÆË°å‰∫ãË®≠ÂÆö„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</option>
                                            )}
                                        </select>
                                        <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-blue-500 dark:text-blue-300">
                                            <ChevronDown size={16} />
                                        </div>
                                     </div>
                                </div>
                            </div>
                        </section>

                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <h2 className="flex items-center gap-2 font-bold text-base mb-3 text-hikari-accent">
                                <Users size={20} />
                                „Çø„Éº„Ç≤„ÉÉ„Éà („Éñ„É©„É≥„ÉâÊà¶Áï•)
                            </h2>
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                {[
                                { id: 'general', label: '‰∏ÄËà¨„Éª„Éñ„É©„É≥„ÉâÂÖ®‰Ωì', desc: '„Åæ„Å£„Åô„Åê„ÄÅ„ÇÑ„Åï„Åó„Åè' },
                                { id: 'patient', label: 'ÊÇ£ËÄÖÊßò„Éª„ÅîÂÆ∂Êóè', desc: 'ÂÆâÂøÉ„Å®„ÇÑ„Åï„Åó„Åï' },
                                { id: 'medical', label: 'ÂåªÁôÇÈñ¢‰øÇËÄÖ', desc: '‰ø°È†º„Å®Á¢∫„Åã„Å™ÊÉÖÂ†±' },
                                { id: 'recruit', label: 'Êé°Áî®ÂÄôË£úËÄÖ', desc: 'Êú™Êù•„Å∏„ÅÆ„Éí„Ç´„É™' },
                                { id: 'partner', label: '„Éë„Éº„Éà„Éä„Éº‰ºÅÊ•≠', desc: 'CDMO„ÉªÁ¢∫‰ø°' },
                                { id: 'csr', label: 'Âú∞Âüü„ÉªÁ§æ‰ºö (CSR)', desc: 'ÊåÅÁ∂öÂèØËÉΩ„Å™Êú™Êù•„ÉªË≤¢ÁåÆ' },
                                ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setStakeholder(item.id)}
                                    className={`text-left p-3 rounded-lg border transition-all ${
                                    stakeholder === item.id
                                        ? 'border-hikari-accent bg-red-50 dark:bg-red-900/30 ring-1 ring-hikari-accent'
                                        : 'border-slate-200 dark:border-gray-600 hover:border-hikari-accent/50'
                                    }`}
                                >
                                    <div className="font-bold text-sm">{item.label}</div>
                                    <div className="text-xs opacity-70">{item.desc}</div>
                                </button>
                                ))}
                            </div>
                        </section>

                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <div className="flex justify-between items-center mb-3">
                                <h2 className="flex items-center gap-2 font-bold text-base text-hikari-accent">
                                    <PenTool size={20} />
                                    ÊäïÁ®øÂÜÖÂÆπ
                                </h2>
                                <button 
                                    onClick={handleReset}
                                    className="flex items-center gap-1 text-xs text-gray-500 hover:text-red-500 transition-colors"
                                >
                                    <RotateCcw size={14}/>
                                    „É™„Çª„ÉÉ„Éà
                                </button>
                            </div>
                            
                            <div className="mb-4">
                                <label className="block text-sm font-bold mb-2">„Ç´„ÉÜ„Ç¥„É™„Éº</label>
                                <div className="relative">
                                <select 
                                    value={category} 
                                    onChange={(e) => setCategory(e.target.value)}
                                    className="w-full appearance-none p-3 bg-hikari-base dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-hikari-accent outline-none"
                                >
                                    <option value="company">‰ºöÁ§æË°å‰∫ã„Éª„Éã„É•„Éº„Çπ</option>
                                    <option value="academic">Â≠¶‰ºö„ÉªÁ†îÁ©∂„Éã„É•„Éº„Çπ</option>
                                    <option value="csr">„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£„ÉªÂú∞ÂüüË≤¢ÁåÆ</option>
                                    <option value="recruit">Êé°Áî®„ÉªÁ§æÂì°Á¥π‰ªã</option>
                                    <option value="product">Ë£ΩÂìÅ„ÉªÂ∑•Â†¥ÔºàCDMOÔºâ</option>
                                </select>
                                <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-60">
                                    <ChevronDown size={18} />
                                </div>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-bold mb-2">
                                Ë©≥Á¥∞ÂÜÖÂÆπ 
                                <span className="ml-2 text-xs font-normal opacity-60">‚ÄªÂÖ∑‰ΩìÁöÑ„Å™Ë°å‰∫ãÂêç„ÇÑÂá∫Êù•‰∫ã„ÇíÂÖ•Âäõ</span>
                                </label>
                                <textarea
                                    value={eventDetail}
                                    onChange={(e) => setEventDetail(e.target.value)}
                                    placeholder={placeholderText}
                                    className="w-full p-3 border bg-white dark:bg-gray-800 border-slate-300 dark:border-gray-600 rounded-lg h-32 text-sm focus:ring-2 focus:ring-hikari-accent outline-none resize-none"
                                />
                                {ngWarnings.length > 0 && (
                                    <div className="mt-2 text-red-500 text-xs flex items-center gap-1 font-bold animate-pulse">
                                        <AlertTriangle size={14} />
                                        <span>NG„ÉØ„Éº„Éâ„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô: {ngWarnings.join(", ")}</span>
                                    </div>
                                )}
                            </div>

                            <div className="mt-4 pt-4 border-t border-slate-100 dark:border-gray-700">
                                <button 
                                onClick={generateContent}
                                className="w-full py-3 bg-hikari-accent text-white rounded-lg flex items-center justify-center gap-2 hover:bg-[#a01825] transition-colors font-bold shadow-md active:transform active:scale-95"
                                >
                                <RefreshCw size={18} />
                                ÂÜÖÂÆπ„ÇíÊõ¥Êñ∞„Åô„Çã
                                </button>
                            </div>
                        </section>

                    </div>

                    <div className="space-y-6">
                        <div className="flex items-center gap-2 mb-2">
                        <h2 className="font-bold text-xl">„Éó„É¨„Éì„É•„Éº</h2>
                        <span className="text-xs bg-hikari-base dark:bg-gray-700 px-2 py-1 rounded-full border border-slate-200 dark:border-gray-600">„Ç≥„Éî„Éº„Åó„Å¶‰ΩøÁî®</span>
                        </div>
                        
                        <div className="flex bg-white dark:bg-hikari-darkCard rounded-t-xl overflow-hidden border-b border-gray-200 dark:border-gray-700">
                             <button 
                                onClick={() => setActiveTab('insta')}
                                className={`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors
                                ${activeTab === 'insta' 
                                    ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white' 
                                    : 'bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700'}`}
                             >
                                <Camera size={16} /> Instagram
                             </button>
                             <button 
                                onClick={() => setActiveTab('fb')}
                                className={`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors
                                ${activeTab === 'fb' 
                                    ? 'bg-[#1877F2] text-white' 
                                    : 'bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700'}`}
                             >
                                <Facebook size={16} /> Facebook
                             </button>
                             <button 
                                onClick={() => setActiveTab('x')}
                                className={`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors
                                ${activeTab === 'x' 
                                    ? 'bg-black text-white' 
                                    : 'bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700'}`}
                             >
                                <Twitter size={16} /> X (Twitter)
                             </button>
                             {/* Reply Tab Added */}
                             <button 
                                onClick={() => setActiveTab('reply')}
                                className={`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors
                                ${activeTab === 'reply' 
                                    ? 'bg-green-600 text-white' 
                                    : 'bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700'}`}
                             >
                                <MessageCircle size={16} /> Ëøî‰ø°‰æã
                             </button>
                        </div>

                        <div className="border border-t-0 border-slate-200 dark:border-gray-700 rounded-b-xl overflow-hidden shadow-sm bg-white dark:bg-hikari-darkCard min-h-[300px]">
                            
                            {/* Copy Bar (Only for Post tabs) */}
                            {activeTab !== 'reply' && (
                                <div className="bg-gray-50 dark:bg-gray-900/50 px-4 py-3 flex justify-between items-center border-b border-gray-100 dark:border-gray-700">
                                    <span className="font-bold text-sm text-gray-500 dark:text-gray-400">
                                        {activeTab === 'insta' && 'Instagram ÊäïÁ®øÁî®'}
                                        {activeTab === 'fb' && 'Facebook ÊäïÁ®øÁî®'}
                                        {activeTab === 'x' && 'X (ÊóßTwitter) ÊäïÁ®øÁî®'}
                                    </span>
                                    <button 
                                    onClick={() => handleCopy(generatedText[activeTab])}
                                    className={`flex items-center gap-1 text-xs px-3 py-1.5 rounded-full transition-colors font-bold text-white shadow-sm
                                        ${activeTab === 'insta' ? 'bg-pink-500 hover:bg-pink-600' : 
                                        activeTab === 'fb' ? 'bg-blue-600 hover:bg-blue-700' : 
                                        'bg-gray-800 hover:bg-black'}`}
                                    >
                                    {copiedState[activeTab] ? <Check size={14} /> : <Copy size={14} />}
                                    {copiedState[activeTab] ? 'ÂÆå‰∫Ü' : '„Ç≥„Éî„Éº'}
                                    </button>
                                </div>
                            )}

                            {activeTab === 'insta' && (
                                <div className="p-4 animate-fade-in">
                                    <div className="flex flex-col gap-4 mb-4">
                                        <div className="w-full bg-white dark:bg-gray-800 p-4 rounded border border-slate-100 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed">
                                            {generatedText.insta}
                                        </div>
                                        {selectedImage && (
                                            <div className="w-full max-w-sm mx-auto aspect-square bg-slate-100 dark:bg-gray-700 rounded-lg overflow-hidden border border-slate-200 dark:border-gray-600">
                                                <img src={selectedImage.url} alt="Preview" className="w-full h-full object-cover" />
                                            </div>
                                        )}
                                    </div>
                                </div>
                            )}

                            {activeTab === 'fb' && (
                                <div className="p-4 animate-fade-in">
                                    <div className="bg-hikari-base dark:bg-gray-800 p-4 rounded border border-slate-200 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed mb-4">
                                        {generatedText.fb}
                                    </div>
                                    {selectedImage && (
                                        <div className="mb-4 rounded-lg overflow-hidden border border-slate-200 dark:border-gray-600">
                                            <img src={selectedImage.url} alt="FB Preview" className="w-full h-48 object-cover" />
                                        </div>
                                    )}
                                </div>
                            )}

                            {activeTab === 'x' && (
                                <div className="p-4 animate-fade-in">
                                    <div className="bg-hikari-base dark:bg-gray-800 p-4 rounded border border-slate-200 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed mb-2">
                                        {generatedText.x}
                                    </div>
                                    <div className="mt-2 mb-4 text-right text-xs opacity-60">
                                        {generatedText.x.length} ÊñáÂ≠ó
                                    </div>
                                    {selectedImage && (
                                        <div className="mb-4 rounded-xl overflow-hidden border border-slate-200 dark:border-gray-600">
                                            <img src={selectedImage.url} alt="X Preview" className="w-full h-48 object-cover" />
                                        </div>
                                    )}
                                </div>
                            )}

                            {/* Reply Tab Content */}
                            {activeTab === 'reply' && (
                                <div className="animate-fade-in">
                                    <div className="bg-green-50 dark:bg-green-900/20 px-4 py-3 border-b border-green-100 dark:border-green-800/30 flex items-center gap-2">
                                        <MessageCircle size={18} className="text-green-600 dark:text-green-400" />
                                        <span className="font-bold text-sm text-green-800 dark:text-green-200">„Ç≥„É°„É≥„Éà„Å∏„ÅÆËøî‰ø°‰æã</span>
                                    </div>
                                    {renderReplyExamples()}
                                </div>
                            )}

                            {/* Image Selection Area (Show for all tabs) */}
                            {renderImageSelection()}

                        </div>
                    </div>
                    </div>
                </div>

                {isHelpOpen && (
                    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
                        <div className="bg-white dark:bg-hikari-darkCard w-full max-w-md rounded-2xl shadow-xl overflow-hidden animate-fade-in">
                            <div className="p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
                                <h3 className="font-bold text-lg flex items-center gap-2">
                                    <HelpCircle className="text-hikari-accent" />
                                    ‰Ωø„ÅÑÊñπ„Ç¨„Ç§„Éâ
                                </h3>
                                <button onClick={() => setIsHelpOpen(false)} className="text-gray-400 hover:text-gray-600"><X size={24}/></button>
                            </div>
                            <div className="p-6 space-y-4">
                                <div className="text-sm opacity-80 mb-4">
                                    „ÄêÁõÆÁöÑ„Äë<br/>
                                    Hikari Brand Note „ÅØ„ÄÅÊäïÁ®øÂâç„Å´„Äå„Åì„ÅÆÂÜÖÂÆπ„ÅØÂÖâË£ΩËñ¨„ÅÆ‰ø°È†º„ÇíËÇ≤„Å¶„Å¶„ÅÑ„Çã„Åã„Äç„Çí‰∏ÄÂ∫¶Á´ã„Å°Ê≠¢„Åæ„Å£„Å¶Á¢∫Ë™ç„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç¢„Éó„É™„Åß„Åô„ÄÇ
                                </div>
                                <div className="space-y-3">
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">1</div>
                                        <div>
                                            <p className="font-bold text-sm">Áô∫‰ø°„Åó„Åü„ÅÑÂÜÖÂÆπ„ÇíÂÖ•Âäõ„Åó„Åæ„Åô</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">2</div>
                                        <div>
                                            <p className="font-bold text-sm">ÊäïÁ®ø„ÅÆÁõÆÁöÑ„ÇÑ‰ºù„Åà„Åü„ÅÑÊÉ≥„ÅÑ„ÇíÊï¥ÁêÜ„Åó„Åæ„Åô</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">3</div>
                                        <div>
                                            <p className="font-bold text-sm">Ë™†ÂÆü„Åï„ÉªÂÆâÂøÉÊÑü„ÉªÂ∞ÜÊù•ÊÄß„ÅÆË¶ñÁÇπ„ÅßÊñáÁ´†„ÇíË¶ãÁõ¥„Åó„Åæ„Åô</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">4</div>
                                        <div>
                                            <p className="font-bold text-sm">„Åù„ÅÆ„Åæ„ÅæSNSÊäïÁ®øÊñá„Å®„Åó„Å¶Ê¥ªÁî®„Åó„Åæ„Åô</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 text-xs opacity-70">
                                    <p className="font-bold mb-1">„ÄêÊäïÁ®øÊñá„ÅÆÁõÆÁöÑ„Äë</p>
                                    <ul className="list-disc list-inside space-y-1">
                                        <li>Â£≤„ÇäËæº„ÇÄ„Åü„ÇÅ„Åß„ÅØ„Å™„Åè„ÄÅ‰ø°È†º„ÇíÁ©ç„ÅøÈáç„Å≠„Çã„Åü„ÇÅ</li>
                                        <li>Ê¥æÊâã„Åï„Çà„Çä„ÇÇ„ÄÅÊó•Â∏∏„ÅÆË™†ÂÆü„Åï</li>
                                        <li>‰∏ÄÂõû„ÅÆÊäïÁ®ø„Åß„ÅØ„Å™„Åè„ÄÅÁ∂ôÁ∂ö„Å´„Çà„Çã„Éñ„É©„É≥„ÉâÂΩ¢Êàê</li>
                                    </ul>
                                </div>
                            </div>
                            <div className="p-4 bg-gray-50 dark:bg-gray-800 text-center">
                                <button onClick={() => setIsHelpOpen(false)} className="w-full py-2 bg-hikari-accent text-white rounded-lg font-bold">ÁêÜËß£„Åó„Åæ„Åó„ÅüÔºÅ</button>
                            </div>
                        </div>
                    </div>
                )}

                {isSettingsOpen && (
                    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
                        <div className="bg-white dark:bg-hikari-darkCard w-full max-w-lg rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]">
                            <div className="p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
                                <h3 className="font-bold text-lg flex items-center gap-2">
                                    <Settings className="text-gray-500" />
                                    Ë®≠ÂÆö„Éª„Ç´„Çπ„Çø„Éû„Ç§„Ç∫
                                </h3>
                                <button onClick={() => setIsSettingsOpen(false)} className="text-gray-400 hover:text-gray-600"><X size={24}/></button>
                            </div>
                            
                            <div className="p-6 space-y-6 overflow-y-auto">
                                
                                <div className="flex justify-between items-center pb-4 border-b border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-2">
                                        {isDarkMode ? <Moon size={20} className="text-yellow-400"/> : <Sun size={20} className="text-orange-400"/>}
                                        <span className="font-bold text-sm">„ÉÄ„Éº„ÇØ„É¢„Éº„ÉâÂàáÊõø</span>
                                    </div>
                                    <button 
                                        onClick={() => setIsDarkMode(!isDarkMode)}
                                        className={`w-12 h-6 rounded-full p-1 transition-colors ${isDarkMode ? 'bg-blue-600' : 'bg-gray-300'}`}
                                    >
                                        <div className={`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${isDarkMode ? 'translate-x-6' : 'translate-x-0'}`} />
                                    </button>
                                </div>

                                <div className="flex justify-between items-center pb-4 border-b border-gray-100 dark:border-gray-700">
                                    <div>
                                        <p className="font-bold text-sm">Â≠£ÁØÄ„ÅÆÊå®Êã∂Êñá</p>
                                        <p className="text-xs opacity-60">Ëá™ÂãïÊåøÂÖ•„Åï„Çå„ÇãÊôÇÂÄô„ÅÆÊå®Êã∂„ÇíON/OFF„Åó„Åæ„Åô</p>
                                    </div>
                                    <button 
                                        onClick={() => setShowGreeting(!showGreeting)}
                                        className={`w-12 h-6 rounded-full p-1 transition-colors ${showGreeting ? 'bg-hikari-accent' : 'bg-gray-300'}`}
                                    >
                                        <div className={`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${showGreeting ? 'translate-x-6' : 'translate-x-0'}`} />
                                    </button>
                                </div>

                                <div className="space-y-4 pt-2 border-t border-gray-100 dark:border-gray-700">
                                    <h4 className="font-bold text-sm flex items-center gap-2 text-hikari-accent">
                                        <Calendar size={16} /> ‰ºöÁ§æ‰ºëÊó•„ÉªË°å‰∫ãË®≠ÂÆö
                                    </h4>
                                    
                                    <div className="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg space-y-3">
                                        <div className="flex items-center gap-2 mb-1">
                                            <Building size={16} className="text-gray-500" />
                                            <span className="text-xs font-bold">Êú¨Á§æ ‰ºëÊöáË®≠ÂÆö</span>
                                        </div>
                                        <div className="grid grid-cols-2 gap-2">
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">Â§èÂ≠£‰ºëÊöá ÈñãÂßã</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.hq.summer.start}
                                                    onChange={(e) => handleHolidayChange('hq', 'summer', 'start', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÁµÇ‰∫Ü</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.hq.summer.end}
                                                    onChange={(e) => handleHolidayChange('hq', 'summer', 'end', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÂÜ¨Â≠£‰ºëÊöá ÈñãÂßã</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.hq.winter.start}
                                                    onChange={(e) => handleHolidayChange('hq', 'winter', 'start', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÁµÇ‰∫Ü</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.hq.winter.end}
                                                    onChange={(e) => handleHolidayChange('hq', 'winter', 'end', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                        </div>
                                    </div>

                                    <div className="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg space-y-3">
                                        <div className="flex items-center gap-2 mb-1">
                                            <Factory size={16} className="text-gray-500" />
                                            <span className="text-xs font-bold">Â∑•Â†¥ ‰ºëÊöáË®≠ÂÆö</span>
                                        </div>
                                        <div className="grid grid-cols-2 gap-2">
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">Â§èÂ≠£‰ºëÊöá ÈñãÂßã</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.factory.summer.start}
                                                    onChange={(e) => handleHolidayChange('factory', 'summer', 'start', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÁµÇ‰∫Ü</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.factory.summer.end}
                                                    onChange={(e) => handleHolidayChange('factory', 'summer', 'end', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÂÜ¨Â≠£‰ºëÊöá ÈñãÂßã</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.factory.winter.start}
                                                    onChange={(e) => handleHolidayChange('factory', 'winter', 'start', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                            <div>
                                                <label className="text-[10px] font-bold block mb-1">ÁµÇ‰∫Ü</label>
                                                <input 
                                                    type="date" 
                                                    value={holidaySettings.factory.winter.end}
                                                    onChange={(e) => handleHolidayChange('factory', 'winter', 'end', e.target.value)}
                                                    className="w-full p-1 text-xs border rounded dark:bg-gray-700 dark:border-gray-600"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* Link Settings (Added) */}
                                <div className="space-y-3 pt-2 border-t border-gray-100 dark:border-gray-700">
                                    <h4 className="font-bold text-sm flex items-center gap-2 text-hikari-accent">
                                        <Link size={16} /> „É™„É≥„ÇØË®≠ÂÆö
                                    </h4>
                                    <div>
                                        <label className="text-[10px] font-bold block mb-1">„É™„É≥„ÇØÂÖà„ÅÆURL („ÅäÂÆ¢Êßò„ÅÆURL)</label>
                                        <input 
                                            type="text" 
                                            value={customLinkUrl}
                                            onChange={(e) => setCustomLinkUrl(e.target.value)}
                                            className="w-full p-2 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-1 focus:ring-hikari-accent outline-none"
                                            placeholder="https://..."
                                        />
                                    </div>
                                    <div>
                                        <label className="text-[10px] font-bold block mb-1">Ë°®Á§∫„Åï„Åõ„ÇãURL (ÊäïÁ®øÁî®„ÉÜ„Ç≠„Çπ„Éà)</label>
                                        <input 
                                            type="text" 
                                            value={customLinkText}
                                            onChange={(e) => setCustomLinkText(e.target.value)}
                                            className="w-full p-2 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-1 focus:ring-hikari-accent outline-none"
                                            placeholder="‰æãÔºöË©≥„Åó„Åè„ÅØ„Éó„É≠„Éï„Ç£„Éº„É´„ÅÆ„É™„É≥„ÇØ„Å∏"
                                        />
                                        <p className="text-[10px] opacity-60 mt-1">‚ÄªInstagram„ÅÆÊäïÁ®øÊñáÊú´Â∞æ„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô</p>
                                    </div>
                                </div>

                                <div className="space-y-2 pt-2 border-t border-gray-100 dark:border-gray-700">
                                    <label className="font-bold text-sm block">ÁΩ≤ÂêçÔºà„Éï„ÉÉ„Çø„ÉºÔºâ„ÅÆÁ∑®ÈõÜ</label>
                                    <textarea 
                                        value={signature}
                                        onChange={(e) => setSignature(e.target.value)}
                                        className="w-full p-3 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm h-24 resize-none focus:ring-1 focus:ring-hikari-accent outline-none"
                                    />
                                    <p className="text-xs opacity-60">‚ÄªFacebookÊäïÁ®ø„ÅÆÊú´Â∞æ„Å´ÊåøÂÖ•„Åï„Çå„Åæ„Åô</p>
                                </div>

                                <div className="space-y-2">
                                    <label className="font-bold text-sm block">Á∞°ÊòìNG„ÉØ„Éº„ÉâÁôªÈå≤</label>
                                    <input 
                                        type="text"
                                        value={ngWordsStr}
                                        onChange={(e) => setNgWordsStr(e.target.value)}
                                        className="w-full p-3 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-1 focus:ring-hikari-accent outline-none"
                                        placeholder="„Ç´„É≥„Éû(,)Âå∫Âàá„Çä„ÅßÂÖ•Âäõ"
                                    />
                                    <p className="text-xs opacity-60">ÂÖ•ÂäõÂÜÖÂÆπ„Å´Âê´„Åæ„Çå„Çã„Å®Ë≠¶Âëä„ÇíË°®Á§∫„Åó„Åæ„Åô</p>
                                </div>

                            </div>
                            <div className="p-4 bg-gray-50 dark:bg-gray-800 text-center border-t border-gray-100 dark:border-gray-700">
                                <button onClick={() => setIsSettingsOpen(false)} className="px-8 py-2 bg-gray-800 dark:bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700">Èñâ„Åò„Çã</button>
                            </div>
                        </div>
                    </div>
                )}
                
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<HikariSnsGenerator />);
    </script>
</body>
</html>