<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hikariãƒ–ãƒ©ãƒ³ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <!-- ãƒ‡ã‚¶ã‚¤ãƒ³ç”¨ï¼šTailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Reactæœ¬ä½“ -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- JSXå¤‰æ›ç”¨ï¼šBabel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã¨ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®è¨­å®š -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        hikari: {
                            base: '#EAEFF3',
                            text: '#626262',
                            accent: '#C11E2D',
                            darkBase: '#1f2937', // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰èƒŒæ™¯
                            darkCard: '#374151', // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰
                            darkText: '#f3f4f6'  // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ–‡å­—
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆä»»æ„ï¼‰ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #4b5563;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ã‚¢ã‚¤ã‚³ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Lucide Icons) ---
        // è»½é‡åŒ–ã®ãŸã‚SVGã‚’ç›´æ¥åŸ‹ã‚è¾¼ã‚“ã§ã„ã¾ã™
        const Icon = ({ children, className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Copy = (p) => <Icon {...p}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></Icon>;
        const Check = (p) => <Icon {...p}><polyline points="20 6 9 17 4 12"/></Icon>;
        const RefreshCw = (p) => <Icon {...p}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></Icon>;
        const Calendar = (p) => <Icon {...p}><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></Icon>;
        const Users = (p) => <Icon {...p}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></Icon>;
        const PenTool = (p) => <Icon {...p}><path d="m12 19 7-7 3 3-7 7-3-3z"/><path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="m2 2 7.586 7.586"/><circle cx="11" cy="11" r="2"/></Icon>;
        const Camera = (p) => <Icon {...p}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></Icon>;
        const ChevronDown = (p) => <Icon {...p}><path d="m6 9 6 6 6-6"/></Icon>;
        const Settings = (p) => <Icon {...p}><path d="M12.22 2h-.44a2 2 0 0 1-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.72l-.15.1a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73v.18a2 2 0 0 1 2 2h.44a2 2 0 0 1 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.72l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 1-2-2z"/><circle cx="12" cy="12" r="3"/></Icon>;
        const HelpCircle = (p) => <Icon {...p}><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></Icon>;
        const X = (p) => <Icon {...p}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></Icon>;
        const RotateCcw = (p) => <Icon {...p}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 16"/><path d="M3 3v5h5"/></Icon>;
        const Moon = (p) => <Icon {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></Icon>;
        const Sun = (p) => <Icon {...p}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></Icon>;
        const AlertTriangle = (p) => <Icon {...p}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></Icon>;

        // --- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“ ---
        const HikariSnsGenerator = () => {
            // --- State ---
            const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);
            const [category, setCategory] = useState('company');
            const [eventDetail, setEventDetail] = useState('');
            const [stakeholder, setStakeholder] = useState('general');
            const [generatedText, setGeneratedText] = useState({ fb: '', insta: '', x: '' });
            const [imageSuggestion, setImageSuggestion] = useState('');
            const [copiedState, setCopiedState] = useState({ fb: false, insta: false, x: false });
            
            // Settings State
            const [isSettingsOpen, setIsSettingsOpen] = useState(false);
            const [isHelpOpen, setIsHelpOpen] = useState(false);
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [signature, setSignature] = useState("å…‰è£½è–¬æ ªå¼ä¼šç¤¾\nå…¬å¼ã‚µã‚¤ãƒˆï¼šhttps://www.hikari-pharma.co.jp/");
            const [showGreeting, setShowGreeting] = useState(true);
            const [ngWordsStr, setNgWordsStr] = useState("çµ¶å¯¾,100%,No.1,å¿…ãšæ²»ã‚‹"); 
            const [ngWarnings, setNgWarnings] = useState([]);

            // Branding Messages
            const brandingMessages = {
                general: {
                    short: "ã¾ã£ã™ãã€ã‚„ã•ã—ãã€åŒ»ç™‚ã¨äººã‚’ã¤ãªãã€‚",
                    long: "ç§ãŸã¡å…‰è£½è–¬ã¯ã€å‰µæ¥­ä»¥æ¥å¤‰ã‚ã‚‰ã¬æƒ³ã„ã§ã€ä¸€ã¤ã²ã¨ã¤ã®åŒ»è–¬å“ã¨å‘ãåˆã£ã¦ã„ã¾ã™ã€‚\næŠ€è¡“ã®é€²æ­©ã¨å…±ã«ã€æ±ºã—ã¦å¤‰ã‚ã‚‰ãªã„ã€Œã‚„ã•ã—ã•ã€ã‚’ã€ã™ã¹ã¦ã®æ‚£è€…æ§˜ã¸ã€‚\næœªæ¥ã®å¥ã‚„ã‹ãªæ¯æ—¥ã®ãŸã‚ã«ã€ç§ãŸã¡ã¯ä»Šæ—¥ã‚‚æ­©ã¿ç¶šã‘ã¾ã™ã€‚"
                },
                patient: {
                    short: "çŸ¥ã£ã¦å®‰å¿ƒã€å±Šã‘ãŸã„ã®ã¯â€œã‚„ã•ã—ã•â€ã§ã™ã€‚",
                    long: "ç—…æ°—ã¨å‘ãåˆã†æ™‚é–“ã€ãµã¨ã—ãŸç¬é–“ã«æ„Ÿã˜ã‚‹ä¸å®‰ã€‚\nç§ãŸã¡ã¯ã€ãã‚“ãªå¿ƒã«ãã£ã¨å¯„ã‚Šæ·»ãˆã‚‹å­˜åœ¨ã§ã‚ã‚ŠãŸã„ã¨é¡˜ã£ã¦ã„ã¾ã™ã€‚\nã€ŒçŸ¥ã£ã¦å®‰å¿ƒã€ã¨æ€ã£ã¦ã„ãŸã ã‘ã‚‹æƒ…å ±ã‚’ã€ã¾ã”ã“ã‚ã‚’è¾¼ã‚ã¦ãŠå±Šã‘ã—ã¾ã™ã€‚"
                },
                medical: {
                    short: "ç¾å ´ã«â€œå®‰å¿ƒâ€ã‚’ã€‚ç¢ºã‹ãªæƒ…å ±ã‚’ã€ã™ãæ‰‹å…ƒã«ã€‚",
                    long: "ä¸€åˆ†ä¸€ç§’ã‚’äº‰ã†åŒ»ç™‚ã®ç¾å ´ã§ã€è¿·ã„ãªãä¿¡é ¼ã§ãã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã§ã‚ã‚‹ã“ã¨ã€‚\nç¢ºã‹ãªã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã¨ã€ä½¿ã„ã‚„ã™ã•ã‚’è¿½æ±‚ã—ãŸæƒ…å ±æä¾›ã§ã€\nå…ˆç”Ÿæ–¹ã¨ã€ãã®å…ˆã«ã„ã‚‹æ‚£è€…æ§˜ã®ç¬‘é¡”ã‚’æ”¯ãˆç¶šã‘ã¾ã™ã€‚"
                },
                recruit: {
                    short: "â€œåŒ»ç™‚ã®ãƒ’ã‚«ãƒªâ€ã‚’ã€æœªæ¥ã¸ç´¡ãã‚ãªãŸã¸ã€‚",
                    long: "å®Ÿé¨“å®¤ã®å°ã•ãªæ˜ã‹ã‚Šã¯ã€ã‚„ãŒã¦èª°ã‹ã®å¸Œæœ›ã®å…‰ã«ãªã‚‹ã€‚\nã‚ãªãŸã®æƒ…ç†±ã¨å„ªã—ã•ãŒã€æ˜æ—¥ã®åŒ»ç™‚ã‚’å¤‰ãˆã‚‹åŠ›ã«ãªã‚Šã¾ã™ã€‚\nç§ãŸã¡ã¨ä¸€ç·’ã«ã€ã¾ã è¦‹ã¬ã€Œãƒ’ã‚«ãƒªè¼ããƒŸãƒ©ã‚¤ã€ã‚’å‰µã‚Šã«è¡Œãã¾ã›ã‚“ã‹ï¼Ÿ"
                },
                partner: {
                    short: "â€œã¤ãã‚‹åŠ›â€ã‚’ã€åŒ»è–¬å“é–‹ç™ºã«æ´»ã‹ã—ã¾ã›ã‚“ã‹ï¼Ÿ",
                    long: "ç¢ºã‹ãªæŠ€è¡“åŠ›ã¨ã€æŸ”è»Ÿãªå¯¾å¿œåŠ›ã§ã€åŒ»è–¬å“é–‹ç™ºã®èª²é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚\nå…±ã«ç›®æŒ‡ã™ã®ã¯ã€ä¸–ç•Œä¸­ã®äººã€…ã®å¥åº·ã¸ã®è²¢çŒ®ã€‚\nä¿¡é ¼ã§ãã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã—ã¦ã€è²´ç¤¾ã®ãƒ“ã‚¸ãƒã‚¹ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚"
                }
            };

            const imageSuggestionData = {
                company: "ã€æ¨å¥¨ç”»åƒã€‘\nã‚ªãƒ•ã‚£ã‚¹ã®çª“ã‹ã‚‰å·®ã—è¾¼ã‚€æŸ”ã‚‰ã‹ãªè‡ªç„¶å…‰ã‚’å…¥ã‚ŒãŸã€ç¤¾å“¡ã®è‡ªç„¶ãªè¡¨æƒ…ã€‚\nã¾ãŸã¯ã€å­£ç¯€ã®èŠ±ã‚„ç©ºã®å†™çœŸã‚’èƒŒæ™¯ã«ã€ãƒ­ã‚´ã‚’é…ç½®ã—ãŸæ¸…æ½”æ„Ÿã®ã‚ã‚‹ç”»åƒã€‚",
                academic: "ã€æ¨å¥¨ç”»åƒã€‘\nå­¦ä¼šä¼šå ´ã®çœ‹æ¿ã‚’èƒŒæ™¯ã«ã€å‚åŠ ãƒ¡ãƒ³ãƒãƒ¼ãŒå……å®Ÿã—ãŸè¡¨æƒ…ã§ä¸¦ã‚“ã§ã„ã‚‹é›†åˆå†™çœŸã€‚\nçœŸå‰£ã«ãƒã‚¹ã‚¿ãƒ¼ç™ºè¡¨ã‚’èã„ã¦ã„ã‚‹å¾Œã‚å§¿ãªã©ã€Œç†±æ„ã€ãŒä¼ã‚ã‚‹æ§‹å›³ã€‚",
                csr: "ã€æ¨å¥¨ç”»åƒã€‘\nåœ°åŸŸæ¸…æƒã‚„ã‚¤ãƒ™ãƒ³ãƒˆæ´»å‹•ä¸­ã®ã€ç¤¾å“¡ã¨åœ°åŸŸã®æ–¹ã¨ã®ãµã‚Œã‚ã„ã®ç¬é–“ã€‚\nã€Œæ‰‹å…ƒã€ã‚„ã€Œç¬‘é¡”ã€ã«ã‚¯ãƒ­ãƒ¼ã‚ºã‚¢ãƒƒãƒ—ã—ã€äººã®æ¸©ã‹ã•ã‚’å¼·èª¿ã—ãŸå†™çœŸã€‚",
                recruit: "ã€æ¨å¥¨ç”»åƒã€‘\nå…ˆè¼©ç¤¾å“¡ãŒå¾Œè¼©ã«å„ªã—ãæ•™ãˆã¦ã„ã‚‹ã‚·ãƒ¼ãƒ³ã‚„ã€ç¤¾å“¡é£Ÿå ‚ã§ã®ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸã‚ªãƒ•ã‚·ãƒ§ãƒƒãƒˆã€‚\nã€Œã“ã®ä¼šç¤¾ã§åƒãã‚¤ãƒ¡ãƒ¼ã‚¸ã€ãŒæ¹§ãã‚ˆã†ãªã€æ˜ã‚‹ãè¦ªã—ã¿ã‚„ã™ã„é›°å›²æ°—ã§ã€‚",
                product: "ã€æ¨å¥¨ç”»åƒã€‘\nå·¥å ´å†…ã®æ©Ÿæ¢°ã®ãƒ¡ã‚¿ãƒªãƒƒã‚¯ãªè³ªæ„Ÿã¨ã€å³ã—ããƒã‚§ãƒƒã‚¯ã™ã‚‹æ‹…å½“è€…ã®çœŸå‰£ãªçœ¼å·®ã—ã€‚\nã€Œå“è³ªã¸ã®ã“ã ã‚ã‚Šã€ãŒä¼ã‚ã‚‹ã€å°‘ã—ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆå¼·ã‚ã®æ´—ç·´ã•ã‚ŒãŸå†™çœŸã€‚"
            };

            const coreHashtags = ["#å…‰è£½è–¬", "#HikariPharmaceutical", "#Vision2030", "#åŒ»ç™‚ã¨äººã‚’ã¤ãªã"];
            
            const variableHashtagsData = {
                company: ["#ä¼æ¥­æ–‡åŒ–", "#ç¤¾å†…é¢¨æ™¯", "#è£½è–¬ä¼šç¤¾"],
                academic: ["#å­¦ä¼šæƒ…å ±", "#åŒ»ç™‚ãƒ‹ãƒ¥ãƒ¼ã‚¹", "#ç ”ç©¶é–‹ç™º"],
                csr: ["#ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£", "#åœ°åŸŸè²¢çŒ®", "#å¥åº·çµŒå–¶"],
                recruit: ["#æ¡ç”¨", "#å°±æ´»", "#åƒãäºº"],
                product: ["#å“è³ªç®¡ç†", "#å®‰å®šä¾›çµ¦", "#ã‚‚ã®ã¥ãã‚Š"]
            };

            // NG Word Check Logic
            useEffect(() => {
                if (!eventDetail) {
                    setNgWarnings([]);
                    return;
                }
                const words = ngWordsStr.split(',').map(w => w.trim()).filter(w => w);
                const detected = words.filter(word => eventDetail.includes(word));
                setNgWarnings(detected);
            }, [eventDetail, ngWordsStr]);

            // Dark Mode Class Handling
            useEffect(() => {
                if (isDarkMode) {
                    document.documentElement.classList.add('dark');
                    document.body.classList.remove('bg-[#EAEFF3]');
                    document.body.classList.add('bg-hikari-darkBase');
                } else {
                    document.documentElement.classList.remove('dark');
                    document.body.classList.add('bg-[#EAEFF3]');
                    document.body.classList.remove('bg-hikari-darkBase');
                }
            }, [isDarkMode]);

            const generateContent = () => {
                const variableTags = variableHashtagsData[category] || ["#è£½è–¬", "#å¥åº·", "#æœªæ¥"];
                const allHashtags = [...coreHashtags, ...variableTags].join(' '); 
                
                const monthStr = `${selectedMonth}æœˆ`;
                const intro = showGreeting ? getSeasonalIntro(monthStr) : "";
                
                const brandingBlock = brandingMessages[stakeholder].long;
                const shortBranding = brandingMessages[stakeholder].short;

                const topicHeader = category === 'academic' ? 'å­¦ä¼šãƒ»ç ”ç©¶ãƒ‹ãƒ¥ãƒ¼ã‚¹' : 'ä»Šæœˆã®ãƒˆãƒ”ãƒƒã‚¯ã‚¹';
                const mainBody = eventDetail 
                ? `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nã€${topicHeader}ã€‘\n${eventDetail}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n` 
                : '';

                // FB: Added Signature from settings
                const fbText = `${intro ? intro + "\n\n" : ""}${mainBody}\n${brandingBlock}\n\nç§ãŸã¡å…‰è£½è–¬ã¯ã€ã“ã‚Œã‹ã‚‰ã‚‚åŒ»ç™‚ã®æœªæ¥ã‚’ç…§ã‚‰ã—ç¶šã‘ã¾ã™ã€‚\n\n----------------------------\n${signature}\n----------------------------\n\n${allHashtags}`;

                const instaText = `${intro ? intro + "\n\n" : ""}${eventDetail ? `${eventDetail}\n\n` : ''}..\n\n${brandingBlock}\n\nç§ãŸã¡ã®æ—¥ã€…ã®å–ã‚Šçµ„ã¿ã‚„ã€æƒ³ã„ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚\nãœã²ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã€å…‰è£½è–¬ã®ã€Œä»Šã€ã«è§¦ã‚Œã¦ãã ã•ã„ã€‚\n\nğŸ”— è©³ã—ãã¯ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆ@hikari_pharma_officialï¼‰ã®ãƒªãƒ³ã‚¯ã¸\n\n${allHashtags}`;

                const xText = `ã€${monthStr}ã®ãŠçŸ¥ã‚‰ã›ã€‘\n\n${shortBranding}\n\n${eventDetail}\n\n${showGreeting ? "å­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã€çš†æ§˜ã‚‚ã”è‡ªæ„›ãã ã•ã„ã€‚\n" : ""}#å…‰è£½è–¬ #Vision2030`; 

                setGeneratedText({ fb: fbText, insta: instaText, x: xText });
                setImageSuggestion(imageSuggestionData[category] || "å†…å®¹ã«åˆã‚ã›ãŸæ¸…æ½”æ„Ÿã®ã‚ã‚‹å†™çœŸ");
                setCopiedState({ fb: false, insta: false, x: false });
            };

            const getSeasonalIntro = (month) => {
                const greetings = {
                1: "æ–°ã—ã„å¹´ã®å¹•é–‹ã‘ã€‚\nå‡›ã¨ã—ãŸç©ºæ°—ã®ä¸­ã€ç§ãŸã¡ã‚‚æ–°ãŸãªæ±ºæ„ã¨å…±ã«ã‚¹ã‚¿ãƒ¼ãƒˆã‚’åˆ‡ã‚Šã¾ã—ãŸã€‚",
                2: "å¯’ã•ã®ä¸­ã«ã‚‚ã€å°‘ã—ãšã¤æ˜¥ã®è¶³éŸ³ãŒèã“ãˆã¦ãã‚‹å­£ç¯€ã€‚\næ¢…ã®è•¾ãŒã»ã“ã‚ã¶ã‚ˆã†ã«ã€å¸Œæœ›ã¸ã®æº–å‚™ã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚",
                3: "æ—¥å·®ã—ãŒæŸ”ã‚‰ã‹ããªã‚Šã€å¿ƒã‚‚å¼¾ã‚€æ˜¥ã®è¨ªã‚Œã€‚\næ–°ã—ã„å‡ºä¼šã„ã¨æŒ‘æˆ¦ã®å­£ç¯€ãŒã‚„ã£ã¦ãã¾ã—ãŸã€‚",
                4: "æ¡œèˆã†ç¾ã—ã„å­£ç¯€ã€‚\næ–°ã—ã„ä»²é–“ã‚’è¿ãˆã€å…‰è£½è–¬ã‚‚ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªé¢¨ã¨å…±ã«æ­©ã¿å‡ºã—ã¾ã™ã€‚",
                5: "æ–°ç·‘ãŒã¾ã¶ã—ã„å­£ç¯€ã€‚\nè‹¥è‘‰ã®ã‚ˆã†ã«åŠ›å¼·ãã€ç§ãŸã¡ã‚‚æˆé•·ã‚’ç¶šã‘ã¦ã¾ã„ã‚Šã¾ã™ã€‚",
                6: "é›¨ã®éŸ³ã«ç´«é™½èŠ±ãŒæ˜ ãˆã‚‹å­£ç¯€ã€‚\nä¸€é›¨ã”ã¨ã«æ·±ã¾ã‚‹ç·‘ã®ã‚ˆã†ã«ã€ç§ãŸã¡ã®çµ†ã‚‚æ·±ã‚ã¦ã„ãã¾ã™ã€‚",
                7: "å¤ç©ºãŒåºƒãŒã‚‹å­£ç¯€ã€‚\nå¤ªé™½ã®å…‰ã«è² ã‘ãªã„ãã‚‰ã„ã®ç†±æ„ã§ã€åŒ»ç™‚ã®ç¾å ´ã‚’æ”¯ãˆã¾ã™ã€‚",
                8: "è‰æ™‚é›¨ãŒéŸ¿ãå¤æœ¬ç•ªã€‚\næš‘ã•ã«è² ã‘ãšã€å®‰å®šä¾›çµ¦ã¨ã„ã†ä½¿å‘½ã‚’èƒ¸ã«æ—¥ã€…é‚é€²ã—ã¦ã„ã¾ã™ã€‚",
                9: "å°‘ã—ãšã¤ç§‹ã®æ°—é…ã‚’æ„Ÿã˜ã‚‹ä»Šæ—¥ã“ã®é ƒã€‚\nå®Ÿã‚Šã®ç§‹ã«å‘ã‘ã€ã“ã‚Œã¾ã§ã®æˆæœã‚’å½¢ã«ã™ã‚‹æ™‚æœŸã§ã™ã€‚",
                10: "æœ¨ã€…ãŒè‰²ã¥ãå§‹ã‚ã‚‹ç¾ã—ã„å­£ç¯€ã€‚\næ·±ã¾ã‚‹ç§‹ã¨å…±ã«ã€ç§ãŸã¡ã®ç ”ç©¶ã‚‚ã‚ˆã‚Šæ·±ãã€ã‚ˆã‚Šæœ¬è³ªã¸ã€‚",
                11: "è‚Œå¯’ã•ã‚’æ„Ÿã˜ã‚‹å­£ç¯€ã€‚\nçš†æ§˜ã®å¥åº·ã‚’é¡˜ã†æ°—æŒã¡ãŒã€ã‚ˆã‚Šä¸€å±¤å¼·ããªã‚‹æ™‚æœŸã§ã™ã€‚",
                12: "ä¸€å¹´ã®ç· ã‚ããã‚Šã®æœˆã€‚\næ„Ÿè¬ã®æ°—æŒã¡ã‚’è¾¼ã‚ã¦ã€ä»Šå¹´ä¸€å¹´ã‚’æŒ¯ã‚Šè¿”ã‚Šã€æœªæ¥ã¸æƒ³ã„ã‚’é¦³ã›ã¾ã™ã€‚"
                };
                return greetings[selectedMonth] || `${month}ã‚’è¿ãˆã€æ°—æŒã¡ã‚’æ–°ãŸã«æ¥­å‹™ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚`;
            };

            const handleCopy = (platform) => {
                navigator.clipboard.writeText(generatedText[platform]);
                setCopiedState({ ...copiedState, [platform]: true });
                setTimeout(() => setCopiedState({ ...copiedState, [platform]: false }), 2000);
            };

            // Reset Function
            const handleReset = () => {
                if(window.confirm("å…¥åŠ›å†…å®¹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ")) {
                    setEventDetail("");
                    setCategory("company");
                    setSelectedMonth(new Date().getMonth() + 1);
                    setStakeholder("general");
                }
            };

            useEffect(() => {
                generateContent();
            }, [selectedMonth, category, eventDetail, stakeholder, signature, showGreeting]);

            return (
                // Theme colors handled by Tailwind dark mode classes
                <div className={`min-h-screen font-sans pb-20 transition-colors duration-300 ${isDarkMode ? 'text-hikari-darkText' : 'text-hikari-text'}`}>
                
                {/* Mobile Sticky Header */}
                <div className="sticky top-0 z-10 bg-white dark:bg-hikari-darkCard border-b border-hikari-accent/20 shadow-sm px-4 py-3 flex items-center justify-between md:hidden">
                    <div className="flex items-center gap-2">
                        <img src="rogo.jpg" alt="å…‰è£½è–¬ãƒ­ã‚´" className="h-8 w-auto object-contain" onError={(e) => e.target.style.display = 'none'} />
                        <h1 className="font-bold text-sm">Hikariãƒ–ãƒ©ãƒ³ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
                    </div>
                    <div className="flex gap-2">
                        <button onClick={() => setIsHelpOpen(true)} className="p-2 text-hikari-text dark:text-gray-200"><HelpCircle size={20}/></button>
                        <button onClick={() => setIsSettingsOpen(true)} className="p-2 text-hikari-text dark:text-gray-200"><Settings size={20}/></button>
                    </div>
                </div>

                <div className="max-w-4xl mx-auto p-4 md:p-8">
                    
                    {/* Desktop Header */}
                    <header className="hidden md:flex mb-8 border-b-4 border-hikari-accent pb-4 bg-white dark:bg-hikari-darkCard p-6 rounded-t-xl shadow-sm items-center justify-between">
                        <div className="flex items-center gap-4">
                            <div className="h-16 w-auto flex items-center">
                                <img src="rogo.jpg" alt="å…‰è£½è–¬ãƒ­ã‚´" className="h-full w-auto object-contain" onError={(e) => e.target.style.display = 'none'} />
                            </div>
                            <div className="border-l-2 border-slate-200 dark:border-gray-600 pl-4">
                                <h1 className="text-2xl font-bold">Hikariãƒ–ãƒ©ãƒ³ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
                                <p className="opacity-80 text-sm">ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¼·åŒ–ãƒ»é‹ç”¨åŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«</p>
                            </div>
                        </div>
                        <div className="flex gap-3">
                            <button 
                                onClick={() => setIsHelpOpen(true)}
                                className="flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-50 dark:bg-gray-700 text-blue-700 dark:text-blue-200 hover:bg-blue-100 transition-colors"
                            >
                                <HelpCircle size={18} />
                                <span>ä½¿ã„æ–¹</span>
                            </button>
                            <button 
                                onClick={() => setIsSettingsOpen(true)}
                                className="flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 transition-colors"
                            >
                                <Settings size={18} />
                                <span>è¨­å®š</span>
                            </button>
                        </div>
                    </header>

                    <div className="grid grid-cols-1 gap-6">
                    
                    {/* Controls Section */}
                    <div className="space-y-4">
                        
                        {/* 1. Month Selection */}
                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <h2 className="flex items-center gap-2 font-bold text-base mb-3 text-hikari-accent">
                                <Calendar size={20} />
                                æŠ•ç¨¿æ™‚æœŸ
                            </h2>
                            <div className="relative">
                                <select 
                                value={selectedMonth}
                                onChange={(e) => setSelectedMonth(Number(e.target.value))}
                                className="w-full appearance-none p-3 pl-4 pr-10 bg-hikari-base dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg text-lg font-medium focus:ring-2 focus:ring-hikari-accent outline-none cursor-pointer"
                                >
                                {[...Array(12)].map((_, i) => (
                                    <option key={i} value={i + 1}>{i + 1}æœˆ</option>
                                ))}
                                </select>
                                <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-60">
                                <ChevronDown size={20} />
                                </div>
                            </div>
                        </section>

                        {/* 2. Target Stakeholder */}
                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <h2 className="flex items-center gap-2 font-bold text-base mb-3 text-hikari-accent">
                                <Users size={20} />
                                ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ (ãƒ–ãƒ©ãƒ³ãƒ‰æˆ¦ç•¥)
                            </h2>
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                {[
                                { id: 'general', label: 'ä¸€èˆ¬ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰å…¨ä½“', desc: 'ã¾ã£ã™ãã€ã‚„ã•ã—ã' },
                                { id: 'patient', label: 'æ‚£è€…æ§˜ãƒ»ã”å®¶æ—', desc: 'å®‰å¿ƒã¨ã‚„ã•ã—ã•' },
                                { id: 'medical', label: 'åŒ»ç™‚é–¢ä¿‚è€…', desc: 'ä¿¡é ¼ã¨ç¢ºã‹ãªæƒ…å ±' },
                                { id: 'recruit', label: 'æ¡ç”¨å€™è£œè€…', desc: 'æœªæ¥ã¸ã®ãƒ’ã‚«ãƒª' },
                                { id: 'partner', label: 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä¼æ¥­', desc: 'CDMOãƒ»ç¢ºä¿¡' },
                                ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setStakeholder(item.id)}
                                    className={`text-left p-3 rounded-lg border transition-all ${
                                    stakeholder === item.id
                                        ? 'border-hikari-accent bg-red-50 dark:bg-red-900/30 ring-1 ring-hikari-accent'
                                        : 'border-slate-200 dark:border-gray-600 hover:border-hikari-accent/50'
                                    }`}
                                >
                                    <div className="font-bold text-sm">{item.label}</div>
                                    <div className="text-xs opacity-70">{item.desc}</div>
                                </button>
                                ))}
                            </div>
                        </section>

                        {/* 3. Event Category & Details */}
                        <section className="bg-white dark:bg-hikari-darkCard p-5 rounded-xl shadow-sm border border-slate-200 dark:border-gray-700 transition-colors">
                            <div className="flex justify-between items-center mb-3">
                                <h2 className="flex items-center gap-2 font-bold text-base text-hikari-accent">
                                    <PenTool size={20} />
                                    æŠ•ç¨¿å†…å®¹
                                </h2>
                                <button 
                                    onClick={handleReset}
                                    className="flex items-center gap-1 text-xs text-gray-500 hover:text-red-500 transition-colors"
                                >
                                    <RotateCcw size={14}/>
                                    ãƒªã‚»ãƒƒãƒˆ
                                </button>
                            </div>
                            
                            <div className="mb-4">
                                <label className="block text-sm font-bold mb-2">ã‚«ãƒ†ã‚´ãƒªãƒ¼</label>
                                <div className="relative">
                                <select 
                                    value={category} 
                                    onChange={(e) => setCategory(e.target.value)}
                                    className="w-full appearance-none p-3 bg-hikari-base dark:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-hikari-accent outline-none"
                                >
                                    <option value="company">ä¼šç¤¾è¡Œäº‹ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹</option>
                                    <option value="academic">å­¦ä¼šãƒ»ç ”ç©¶ãƒ‹ãƒ¥ãƒ¼ã‚¹</option>
                                    <option value="csr">ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£ãƒ»åœ°åŸŸè²¢çŒ®</option>
                                    <option value="recruit">æ¡ç”¨ãƒ»ç¤¾å“¡ç´¹ä»‹</option>
                                    <option value="product">è£½å“ãƒ»å·¥å ´ï¼ˆCDMOï¼‰</option>
                                </select>
                                <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-60">
                                    <ChevronDown size={18} />
                                </div>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-bold mb-2">
                                è©³ç´°å†…å®¹ 
                                <span className="ml-2 text-xs font-normal opacity-60">â€»å…·ä½“çš„ãªè¡Œäº‹åã‚„å‡ºæ¥äº‹ã‚’å…¥åŠ›</span>
                                </label>
                                <textarea
                                    value={eventDetail}
                                    onChange={(e) => setEventDetail(e.target.value)}
                                    placeholder="ä¾‹ï¼šç¬¬20å› æ—¥æœ¬åŒ»å­¦ä¼šç·ä¼šã«å‚åŠ ã—ã¾ã—ãŸã€‚ãƒ–ãƒ¼ã‚¹ã§ã¯æ–°è–¬ã®å±•ç¤ºã‚’è¡Œã„ã€å¤šãã®å…ˆç”Ÿæ–¹ã«ãŠç«‹ã¡å¯„ã‚Šã„ãŸã ãã¾ã—ãŸã€‚"
                                    className="w-full p-3 border bg-white dark:bg-gray-800 border-slate-300 dark:border-gray-600 rounded-lg h-32 text-sm focus:ring-2 focus:ring-hikari-accent outline-none resize-none"
                                />
                                {ngWarnings.length > 0 && (
                                    <div className="mt-2 text-red-500 text-xs flex items-center gap-1 font-bold animate-pulse">
                                        <AlertTriangle size={14} />
                                        <span>NGãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™: {ngWarnings.join(", ")}</span>
                                    </div>
                                )}
                            </div>

                            <div className="mt-4 pt-4 border-t border-slate-100 dark:border-gray-700">
                                <button 
                                onClick={generateContent}
                                className="w-full py-3 bg-hikari-accent text-white rounded-lg flex items-center justify-center gap-2 hover:bg-[#a01825] transition-colors font-bold shadow-md active:transform active:scale-95"
                                >
                                <RefreshCw size={18} />
                                å†…å®¹ã‚’æ›´æ–°ã™ã‚‹
                                </button>
                            </div>
                        </section>

                    </div>

                    {/* Preview Section */}
                    <div className="space-y-6">
                        <div className="flex items-center gap-2 mb-2">
                        <h2 className="font-bold text-xl">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h2>
                        <span className="text-xs bg-hikari-base dark:bg-gray-700 px-2 py-1 rounded-full border border-slate-200 dark:border-gray-600">ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ç”¨</span>
                        </div>

                        {/* Instagram Card */}
                        <div className="border border-slate-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm bg-white dark:bg-hikari-darkCard">
                        <div className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-3 flex justify-between items-center">
                            <span className="font-bold flex items-center gap-2"><Camera size={18}/> Instagram</span>
                            <button 
                            onClick={() => handleCopy('insta')}
                            className="flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-full transition-colors backdrop-blur-sm"
                            >
                            {copiedState.insta ? <Check size={14} /> : <Copy size={14} />}
                            {copiedState.insta ? 'å®Œäº†' : 'ã‚³ãƒ”ãƒ¼'}
                            </button>
                        </div>
                        
                        {/* Image Suggestion */}
                        <div className="bg-hikari-base dark:bg-gray-800 p-4 border-b border-slate-200 dark:border-gray-700">
                            <div className="bg-white dark:bg-gray-700 border-2 border-dashed border-slate-300 dark:border-gray-500 rounded-lg p-4 flex flex-col items-center justify-center text-center">
                            <div className="bg-red-50 dark:bg-red-900/50 text-hikari-accent p-2 rounded-full mb-2">
                                <Camera size={24} />
                            </div>
                            <h3 className="font-bold text-sm mb-1">ãŠã™ã™ã‚ã®ç”»åƒæ§‹æˆ</h3>
                            <p className="text-xs leading-relaxed whitespace-pre-wrap opacity-80">
                                {imageSuggestion}
                            </p>
                            </div>
                        </div>

                        <div className="p-4">
                            <div className="bg-white dark:bg-gray-800 p-4 rounded border border-slate-100 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed h-64 overflow-y-auto">
                                {generatedText.insta}
                            </div>
                        </div>
                        </div>

                        {/* Facebook Card */}
                        <div className="border border-slate-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm bg-white dark:bg-hikari-darkCard">
                        <div className="bg-[#1877F2] text-white px-4 py-3 flex justify-between items-center">
                            <span className="font-bold flex items-center gap-2">Facebook</span>
                            <button 
                            onClick={() => handleCopy('fb')}
                            className="flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-full transition-colors backdrop-blur-sm"
                            >
                            {copiedState.fb ? <Check size={14} /> : <Copy size={14} />}
                            {copiedState.fb ? 'å®Œäº†' : 'ã‚³ãƒ”ãƒ¼'}
                            </button>
                        </div>
                        <div className="p-4">
                            <div className="bg-hikari-base dark:bg-gray-800 p-4 rounded border border-slate-200 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed">
                            {generatedText.fb}
                            </div>
                        </div>
                        </div>

                        {/* X Card */}
                        <div className="border border-slate-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm bg-white dark:bg-hikari-darkCard">
                        <div className="bg-black text-white px-4 py-3 flex justify-between items-center">
                            <span className="font-bold flex items-center gap-2">X (æ—§Twitter)</span>
                            <button 
                            onClick={() => handleCopy('x')}
                            className="flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-full transition-colors backdrop-blur-sm"
                            >
                            {copiedState.x ? <Check size={14} /> : <Copy size={14} />}
                            {copiedState.x ? 'å®Œäº†' : 'ã‚³ãƒ”ãƒ¼'}
                            </button>
                        </div>
                        <div className="p-4">
                            <div className="bg-hikari-base dark:bg-gray-800 p-4 rounded border border-slate-200 dark:border-gray-600 whitespace-pre-wrap text-sm leading-relaxed">
                            {generatedText.x}
                            </div>
                            <div className="mt-2 text-right text-xs opacity-60">
                            {generatedText.x.length} æ–‡å­—
                            </div>
                        </div>
                        </div>

                    </div>
                    </div>
                </div>

                {/* --- Help Modal --- */}
                {isHelpOpen && (
                    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
                        <div className="bg-white dark:bg-hikari-darkCard w-full max-w-md rounded-2xl shadow-xl overflow-hidden animate-fade-in">
                            <div className="p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
                                <h3 className="font-bold text-lg flex items-center gap-2">
                                    <HelpCircle className="text-hikari-accent" />
                                    ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰
                                </h3>
                                <button onClick={() => setIsHelpOpen(false)} className="text-gray-400 hover:text-gray-600"><X size={24}/></button>
                            </div>
                            <div className="p-6 space-y-4">
                                <div className="text-sm opacity-80 mb-4">
                                    ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’çµ±ä¸€ã—ã€èª°ã§ã‚‚ç°¡å˜ã«SNSæŠ•ç¨¿ã‚’ä½œæˆã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
                                </div>
                                <div className="space-y-3">
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">1</div>
                                        <div>
                                            <p className="font-bold text-sm">æŠ•ç¨¿æ™‚æœŸã‚’é¸ã¶</p>
                                            <p className="text-xs opacity-70">å­£ç¯€ã«åˆã‚ã›ãŸæŒ¨æ‹¶æ–‡ãŒè‡ªå‹•ã§æŒ¿å…¥ã•ã‚Œã¾ã™ã€‚</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">2</div>
                                        <div>
                                            <p className="font-bold text-sm">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’é¸ã¶</p>
                                            <p className="text-xs opacity-70">ã€Œæ‚£è€…æ§˜ã€ã€Œæ¡ç”¨ã€ãªã©ã€ç›¸æ‰‹ã«éŸ¿ããƒˆãƒ¼ãƒ³ã«è‡ªå‹•èª¿æ•´ã€‚</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">3</div>
                                        <div>
                                            <p className="font-bold text-sm">å†…å®¹ã‚’å…¥åŠ›ï¼†æ›´æ–°</p>
                                            <p className="text-xs opacity-70">è¡Œäº‹åãªã©ã‚’å…¥ã‚Œã€Œæ›´æ–°ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨æ–‡ç« ãŒå®Œæˆï¼</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3">
                                        <div className="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center font-bold shrink-0">4</div>
                                        <div>
                                            <p className="font-bold text-sm">ã‚³ãƒ”ãƒ¼ã—ã¦æŠ•ç¨¿</p>
                                            <p className="text-xs opacity-70">å„SNSã®ã€Œã‚³ãƒ”ãƒ¼ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã‚‹ã ã‘ã€‚</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="p-4 bg-gray-50 dark:bg-gray-800 text-center">
                                <button onClick={() => setIsHelpOpen(false)} className="w-full py-2 bg-hikari-accent text-white rounded-lg font-bold">ç†è§£ã—ã¾ã—ãŸï¼</button>
                            </div>
                        </div>
                    </div>
                )}

                {/* --- Settings Modal --- */}
                {isSettingsOpen && (
                    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
                        <div className="bg-white dark:bg-hikari-darkCard w-full max-w-lg rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]">
                            <div className="p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
                                <h3 className="font-bold text-lg flex items-center gap-2">
                                    <Settings className="text-gray-500" />
                                    è¨­å®šãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
                                </h3>
                                <button onClick={() => setIsSettingsOpen(false)} className="text-gray-400 hover:text-gray-600"><X size={24}/></button>
                            </div>
                            
                            <div className="p-6 space-y-6 overflow-y-auto">
                                
                                {/* Dark Mode Toggle */}
                                <div className="flex justify-between items-center pb-4 border-b border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-2">
                                        {isDarkMode ? <Moon size={20} className="text-yellow-400"/> : <Sun size={20} className="text-orange-400"/>}
                                        <span className="font-bold text-sm">ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿</span>
                                    </div>
                                    <button 
                                        onClick={() => setIsDarkMode(!isDarkMode)}
                                        className={`w-12 h-6 rounded-full p-1 transition-colors ${isDarkMode ? 'bg-blue-600' : 'bg-gray-300'}`}
                                    >
                                        <div className={`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${isDarkMode ? 'translate-x-6' : 'translate-x-0'}`} />
                                    </button>
                                </div>

                                {/* Greeting Toggle */}
                                <div className="flex justify-between items-center pb-4 border-b border-gray-100 dark:border-gray-700">
                                    <div>
                                        <p className="font-bold text-sm">å­£ç¯€ã®æŒ¨æ‹¶æ–‡</p>
                                        <p className="text-xs opacity-60">è‡ªå‹•æŒ¿å…¥ã•ã‚Œã‚‹æ™‚å€™ã®æŒ¨æ‹¶ã‚’ON/OFFã—ã¾ã™</p>
                                    </div>
                                    <button 
                                        onClick={() => setShowGreeting(!showGreeting)}
                                        className={`w-12 h-6 rounded-full p-1 transition-colors ${showGreeting ? 'bg-hikari-accent' : 'bg-gray-300'}`}
                                    >
                                        <div className={`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${showGreeting ? 'translate-x-6' : 'translate-x-0'}`} />
                                    </button>
                                </div>

                                {/* Signature Edit */}
                                <div className="space-y-2">
                                    <label className="font-bold text-sm block">ç½²åï¼ˆãƒ•ãƒƒã‚¿ãƒ¼ï¼‰ã®ç·¨é›†</label>
                                    <textarea 
                                        value={signature}
                                        onChange={(e) => setSignature(e.target.value)}
                                        className="w-full p-3 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm h-24 resize-none focus:ring-1 focus:ring-hikari-accent outline-none"
                                    />
                                    <p className="text-xs opacity-60">â€»FacebookæŠ•ç¨¿ã®æœ«å°¾ã«æŒ¿å…¥ã•ã‚Œã¾ã™</p>
                                </div>

                                {/* NG Words */}
                                <div className="space-y-2">
                                    <label className="font-bold text-sm block">ç°¡æ˜“NGãƒ¯ãƒ¼ãƒ‰ç™»éŒ²</label>
                                    <input 
                                        type="text"
                                        value={ngWordsStr}
                                        onChange={(e) => setNgWordsStr(e.target.value)}
                                        className="w-full p-3 border bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-1 focus:ring-hikari-accent outline-none"
                                        placeholder="ã‚«ãƒ³ãƒ(,)åŒºåˆ‡ã‚Šã§å…¥åŠ›"
                                    />
                                    <p className="text-xs opacity-60">å…¥åŠ›å†…å®¹ã«å«ã¾ã‚Œã‚‹ã¨è­¦å‘Šã‚’è¡¨ç¤ºã—ã¾ã™</p>
                                </div>

                            </div>
                            <div className="p-4 bg-gray-50 dark:bg-gray-800 text-center border-t border-gray-100 dark:border-gray-700">
                                <button onClick={() => setIsSettingsOpen(false)} className="px-8 py-2 bg-gray-800 dark:bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700">é–‰ã˜ã‚‹</button>
                            </div>
                        </div>
                    </div>
                )}
                
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<HikariSnsGenerator />);
    </script>
</body>
</html>